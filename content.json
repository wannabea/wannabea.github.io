{"pages":[{"title":"About","text":"â€œè¿‡ä¸€ä¸ªå¹³å‡¡æ— è¶£çš„äººç”Ÿå®åœ¨å¤ªå®¹æ˜“äº†ï¼Œä½ å¯ä»¥ä¸è¯»ä¹¦ï¼Œä¸å†’é™©ï¼Œä¸è¿åŠ¨ï¼Œä¸å†™ä½œï¼Œä¸å¤–å‡ºï¼Œä¸æŠ˜è…¾â€¦â€¦ä½†æ˜¯ï¼Œäººç”Ÿæœ€åæ‚”çš„äº‹æƒ…å°±æ˜¯ï¼šæˆ‘æœ¬å¯ä»¥ã€‚â€ â€”â€”é™ˆç´ å° äººç”Ÿæœ€åæ‚”çš„äº‹æƒ…å°±æ˜¯ï¼Œæˆ‘æœ¬å¯ä»¥ã€‚ æˆ‘è¸ç€åˆ«äººçš„è„šå°ï¼Œä¸€æ­¥ä¸€æ­¥èµ°åˆ°è¿™é‡Œï¼Œéª¨å­é‡Œçš„è‡ªå‘ä¸€ç›´æ”¯é…ç€æˆ‘æ‰€æœ‰çš„è¡ŒåŠ¨ã€‚ â€æˆ‘è¦æœ‰èƒ½åšæˆ‘è‡ªå·±çš„è‡ªç”±ï¼Œä¸æ•¢åšæˆ‘è‡ªå·±çš„èƒ†é‡â€œæ—è¯­å ‚å…ˆç”Ÿçš„ä¸€å¥è¯æ¯«ä¸å®¢æ°”çš„ç›´å‡»æˆ‘çš„å¿ƒçµã€‚ ä¸æ„¿å¦¥åï¼Œå´æ— æ¯”æ‡¦å¼±ã€‚å¿ƒæ¯”å¤©é«˜ï¼Œå´ä»æ—§å •è½ã€‚ å¤Ÿäº†ï¼Œæˆ‘è¦ç«™èµ·æ¥ï¼Œèµ°è‡ªå·±çš„è·¯äº†ã€‚","link":"/about/index.html"},{"title":"Home","text":"","link":"/home/index.html"},{"title":"Categories","text":"","link":"/categories/index.html"},{"title":"Tags","text":"","link":"/tags/index.html"}],"posts":[{"title":"Hdu3836 [Tarjanå¼ºè¿é€šåˆ†é‡]+[ç¼©ç‚¹]","text":"é¢˜ç›®é“¾æ¥:http://acm.hdu.edu.cn/showproblem.php?pid=3836 tarjanå¼ºè¿é€šåˆ†é‡ç¼©ç‚¹å…¥é—¨é¢˜. æœ€è¿‘æƒ³æä¸€æå›¾è®ºå§..ä½†æ˜¯åˆèœçš„ä¸€æ‰¹,ç½‘ç»œæµåˆæä¸åŠ¨,å°±åªèƒ½ç©ç©æœ€çŸ­è·¯,å¼ºè¿é€šåˆ†é‡çš„æ°´é¢˜è¿™æ ·å­.å°±è¿™ä¹ˆä¸€é“æ°´é¢˜æ•°ç»„å¼€å°äº†ä¸RE,TLEæ˜¯æ€ä¹ˆå›äº‹â€¦å®³å¾—æˆ‘debugåŠå°æ—¶å¿ƒæ€çˆ†ç‚¸. >> é¢˜æ„è¯æ˜ä¸¤é›†åˆç­‰ä»·éœ€è¦è¯æ˜Aæ˜¯Bå­é›†å’ŒBæ˜¯Aå­é›†,ä¸”æ€§è´¨å¯ä»¥ä¼ é€’,ç°åœ¨æœ‰nä¸ªå­é›†,mä¸ªå·²çŸ¥è¯æ˜,æ±‚æœ€å°‘è¿˜éœ€å¤šå°‘æ¬¡è¯æ˜å¾—åˆ°æ‰€æœ‰é›†åˆå‡ç­‰ä»·. é¢˜è§£tarjanæ±‚å¼ºè¿é€šåˆ†é‡ç¼©ç‚¹,å¡«è¾¹ä½¿ä½™ä¸‹çš„å¼ºè¿é€šç‚¹æ„æˆä¸€ä¸ªå¼ºè¿é€šå›¾å³å¯. å…·ä½“æ¥è¯´å°±æ˜¯å°†æ¯ä¸ªé›†åˆçœ‹ä¸ºä¸€ä¸ªåœ†ç‚¹å…±nä¸ª,tarjanç¼©ä¸ºcntä¸ªæ–¹ç‚¹.æ±‚æ‰€æœ‰æ–¹ç‚¹ä¸­å…¥åº¦ä¸º0ç‚¹è®°aä¸ª,å‡ºåº¦ä¸º0ç‚¹bä¸ª.éœ€è¦æ·»åŠ çš„è¾¹å°±æ˜¯max(a,b)ä¸ª. ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101// Problem : 3836 ( Equivalent Sets ) Judge Status : Accepted// RunId : 29352864 Language : G++ Author : nicknameuser// Code Render Status : Rendered By HDOJ G++ Code Render Version 0.01 Beta#include &lt;bits/stdc++.h&gt;using namespace std;#define mem(a,b) memset(a,b,sizeof(a))const int MAXN = 20000 + 10;struct Edge{ int to,next;}edge[MAXN * 3];int Stack[MAXN],head[MAXN],dfn[MAXN],low[MAXN],Belong[MAXN];bool InStack[MAXN],in[MAXN],out[MAXN];int tim,tot,cnt,top;int n,m;void init() //åˆå§‹åŒ–{ mem(Stack,0); mem(head,-1); mem(dfn,0); mem(low,0); mem(Belong,0); mem(in,0); mem(out,0); tim = tot = cnt = top = 0;}void tarjan(int u) //ç¼©ç‚¹å…¥Belong{ int v; dfn[u] = low[u] = ++tim; Stack[top++] = u; InStack[u] = 1; for(int i = head[u];i != -1 ;i = edge[i].next){ v = edge[i].to; if(!dfn[v]){ tarjan(v); low[u] = min(low[u],low[v]); } else if(InStack[v]) low[u] = min(low[u],dfn[v]); } if(dfn[u] == low[u]){ cnt++; do{ v = Stack[--top]; InStack[v] = 0; Belong[v] = cnt; }while(u != v); }}void addedge(int u,int v) //åŠ è¾¹å‡½æ•°{ edge[tot].to = v; edge[tot].next = head[u]; head[u] = tot++;}int main(){ while(cin&gt;&gt;n&gt;&gt;m){ init(); while(m--){ int u,v; scanf(\"%d%d\",&amp;u,&amp;v); addedge(u,v); } for(int i = 1 ;i &lt;= n;++i){ if(!dfn[i]) tarjan(i); } for (int i = 1; i &lt;= n; ++i){ //å…¥åº¦å‡ºåº¦ä¸ºé›¶ç‚¹çš„ä¸ªæ•° for (int j = head[i]; j != -1; j = edge[j].next){ int v=edge[j].to; if (Belong[v] != Belong[i]){ out[Belong[i]] = 1; in[Belong[v]] = 1; } } } if(cnt == 1){ //å›¾ä¸ºå¼ºè¿é€šå›¾æ—¶,æ— éœ€åŠ è¾¹ puts(\"0\"); continue; } int a,b; a = b = 0; for(int i = 1;i &lt;= cnt;++i){ if(!in[i]) a++; if(!out[i]) b++; } printf(\"%d\\n\",max(a,b)); } return 0;} æœ€è¿‘æ²¡å¿ƒæƒ…å†™åšå®¢äº†â€¦æ¯•ç«Ÿå­¦æœŸæœ«å®åœ¨å¤ªææ€–äº†,å¤§é›¾,é«˜æ•°,é«˜å¬,ä¸‰é—¨è¯¾æ­£åœ¨æ•™æˆ‘åšäºº,æŠ½ç‚¹æ—¶é—´åšä¸¤é“é¢˜,ç­‰å…¨éƒ½è€ƒå®ŒæŠŠæ¿å­æ€»ç»“æŒ‚ä¸Šå§â€¦","link":"/post/HDU_3836/"},{"title":"HDU_1043 Eight [æœç´¢] + [åº·æ‰˜å±•å¼€]","text":"é¢˜ç›®é“¾æ¥ï¼š http://acm.hdu.edu.cn/showproblem.php?pid=1043 kuangbinæœç´¢è¿›é˜¶ç¬¬ä¸€é¢˜å¡äº†æˆ‘ä¸€å¤©..?? èœå“­äº†ğŸ˜« è‹±æ–‡å•è¯solveæ‹¼é”™waå‡ å‘ä¹Ÿæ˜¯å¤Ÿäº†â€¦ >> é¢˜æ„ï¼šç»å…¸å…«æ•°ç é—®é¢˜ï¼Œå¦‚é¢˜ï¼š é—®ç§»åŠ¨xæ˜¯å¦å¯ä»¥å°†å…«æ•°ç å½’ä½ï¼Œå³å˜ä¸ºé¡ºåºä¸º 1 2 3 4 5 6 7 8 x å¦‚æœå¯ä»¥è¾“å‡ºç§»åŠ¨è·¯å¾„ï¼ˆruldè¡¨ç¤ºï¼‰å¦åˆ™è¾“å‡ºunsolvable é¢˜è§£é€†å‘bfsé¢„å¤„ç†æ‰“è¡¨ï¼Œå“ˆå¸Œï¼Œåº·æ‰˜å±•å¼€ã€‚ ç”±ç»“æœå¼€å§‹bfså¯»æ‰¾æ‰€æœ‰æƒ…å†µï¼ˆ9! = 362880ï¼‰è®°å½•è·¯å¾„ç»“æœï¼Œæ‰“è¡¨è¾“å‡º. ä¼˜åŒ–ï¼š ç®€å•çš„æ‰“è¡¨ä¼šå‘ç”ŸMLEï¼Œæ‰€ä»¥å¯ä»¥å°†9ä¸ªæ•°å­—å˜æˆ9ä½æ•°å­—å­˜å‚¨ï¼ˆå³ä»¤xä¸º0ï¼Œ1,2,3,4,5,6,7,8,xå°±æ˜¯123456789ï¼‰ç”±äºæƒ…å†µå¹¶ä¸å¤šï¼Œç›´æ¥åˆ¤é‡ä¼šäº§ç”Ÿæå¤§æµªè´¹ï¼Œæ‰€ä»¥ä½¿ç”¨å“ˆå¸Œè¡¨å­˜å‚¨åˆ¤é‡ï¼Œä½†æ˜¯å¦‚ä½•è®¾è®¡å“ˆå¸Œè¡¨æ˜¯ä¸ªé—®é¢˜,å¯ä»¥ä½¿ç”¨åº·æ‰˜å±•å¼€æ¥è®¾è®¡å“ˆå¸Œè¡¨ã€‚ åº·æ‰˜å±•å¼€åŸæ–‡é“¾æ¥ https://blog.csdn.net/wbin233/article/details/72998375 åº·æ‰˜å±•å¼€æ˜¯ä¸€ä¸ªå…¨æ’åˆ—åˆ°ä¸€ä¸ªè‡ªç„¶æ•°çš„åŒå°„ï¼Œå¸¸ç”¨äºæ„å»ºhashè¡¨æ—¶çš„ç©ºé—´å‹ç¼©ã€‚è®¾æœ‰nä¸ªæ•°ï¼ˆ1ï¼Œ2ï¼Œ3ï¼Œ4,â€¦,nï¼‰ï¼Œå¯ä»¥æœ‰ç»„æˆä¸åŒ(n!ç§)çš„æ’åˆ—ç»„åˆï¼Œåº·æ‰˜å±•å¼€è¡¨ç¤ºçš„å°±æ˜¯æ˜¯å½“å‰æ’åˆ—ç»„åˆåœ¨nä¸ªä¸åŒå…ƒç´ çš„å…¨æ’åˆ—ä¸­çš„åæ¬¡ã€‚$$X=a[n](n-1)!+a[n-1](n-2)!+â€¦+a[i](i-1)!+â€¦+a[1]0!$$å…¶ä¸­, a[i]ä¸ºæ•´æ•°ï¼Œå¹¶ä¸”0 &lt;= a[i] &lt;= i, 0 &lt;= i &lt; n, è¡¨ç¤ºå½“å‰æœªå‡ºç°çš„çš„å…ƒç´ ä¸­æ’ç¬¬å‡ ä¸ªï¼Œè¿™å°±æ˜¯åº·æ‰˜å±•å¼€ã€‚ åº·æ‰˜å±•å¼€ 1234567891011121314static const int FAC[] = {1, 1, 2, 6, 24, 120, 720, 5040, 40320, 362880}; // é˜¶ä¹˜int cantor(int *a, int n){ int x = 0; for (int i = 0; i &lt; n; ++i) { int smaller = 0; // åœ¨å½“å‰ä½ä¹‹åå°äºå…¶çš„ä¸ªæ•° for (int j = i + 1; j &lt; n; ++j) { if (a[j] &lt; a[i]) smaller++; } x += FAC[n - i - 1] * smaller; // åº·æ‰˜å±•å¼€ç´¯åŠ  } return x; // åº·æ‰˜å±•å¼€å€¼} é€†åº·æ‰˜å±•å¼€ 12345678910111213141516171819static const int FAC[] = {1, 1, 2, 6, 24, 120, 720, 5040, 40320, 362880}; // é˜¶ä¹˜//åº·æ‰˜å±•å¼€é€†è¿ç®—void decantor(int x, int n){ vector&lt;int&gt; v; // å­˜æ”¾å½“å‰å¯é€‰æ•° vector&lt;int&gt; a; // æ‰€æ±‚æ’åˆ—ç»„åˆ for(int i=1;i&lt;=n;i++) v.push_back(i); for(int i=m;i&gt;=1;i--) { int r = x % FAC[i-1]; int t = x / FAC[i-1]; x = r; sort(v.begin(),v.end());// ä»å°åˆ°å¤§æ’åº a.push_back(v[t]); // å‰©ä½™æ•°é‡Œç¬¬t+1ä¸ªæ•°ä¸ºå½“å‰ä½ v.erase(v.begin()+t); // ç§»é™¤é€‰åšå½“å‰ä½çš„æ•° }} ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112#include &lt;queue&gt;#include &lt;iostream&gt;#include &lt;string&gt;#include &lt;algorithm&gt;using namespace std;const int MAXN = 4e5 + 10;struct node{ int p; //å½“å‰çŠ¶æ€ï¼Œå­˜ä¸ºæ•°å­— int hash; //å“ˆå¸Œè¡¨ç´¢å¼•å€¼ string r; //å½“å‰è·¯å¾„ int pos; //xæ‰€åœ¨ä½ç½®};string ans[MAXN]; //è·¯å¾„è¡¨bool vis[MAXN]; const int func[10] ={1,1,2,6,24,120,720,5040,40320,362880}; //é˜¶ä¹˜è¡¨const int dir[4][2] = {-1,0,1,0,0,-1,0,1}; //ä¸Šä¸‹å·¦å³æ–¹å‘const string dirc = \"durl\"; //æ–¹å‘å­—ç¬¦int Hash(int p) //å“ˆå¸Œè¡¨ï¼ˆåº·æ‰˜å±•å¼€æ–¹æ³•ï¼‰{ int a[9]; for(int i = 8;i &gt;= 0;--i){ a[i] = p % 10; p /= 10; } int ret = 0; for(int i = 0;i &lt; 9;++i){ int small = 0; for(int j = i + 1;j &lt; 9;++j){ if(a[j] &lt; a[i]) small++; } ret += (func[8-i] * small); } return ret;}void Swap(int &amp;p,int pos1,int pos2) //xç§»åŠ¨æ—¶äº¤æ¢ä½ç½®{ int a[9]; for(int i = 8;i &gt;= 0;--i){ a[i] = p % 10; p/=10; } swap(a[pos1],a[pos2]); for(int i = 0;i &lt; 9;++i){ p = p * 10 + a[i]; }}void bfs() //bfsæ‰“è¡¨{ queue&lt;node&gt; que; node st; st.r = \"\"; st.pos = 8; st.p = 123456780; st.hash = Hash(st.p); vis[st.hash] = 1; ans[st.hash] = \"\"; que.push(st); while(!que.empty()){ node hd = que.front(); que.pop(); for(int i = 0;i &lt; 4;++i){ int x = hd.pos / 3 + dir[i][0]; int y = hd.pos % 3 + dir[i][1]; if(y &gt;= 0 &amp;&amp; y &lt; 3 &amp;&amp; x &gt;= 0 &amp;&amp; x &lt; 3){ int pos = x * 3 + y; int p = hd.p; Swap(p,hd.pos,pos); if(!vis[Hash(p)]){ node t; t.p = p; t.pos = pos; t.r = hd.r + dirc[i]; t.hash = Hash(p); vis[t.hash] = 1; ans[t.hash] = t.r; que.push(t); } } } }}int main(){ bfs(); char s[9]; while(~scanf(\" %c\",&amp;s[0])){ for(int i = 1;i &lt; 9;++i){ scanf(\" %c\",&amp;s[i]); } int p = 0; for(int i = 0;i &lt; 9;++i){ //è½¬åŒ–ä¸ºæ•°å­— if(s[i] == 'x') p = p * 10 + 0; else p = p * 10 + (s[i] - '0'); } if(vis[Hash(p)]){ string s = ans[Hash(p)]; reverse(s.begin(),s.end()); cout&lt;&lt;s&lt;&lt;endl; } else{ cout&lt;&lt; \"unsolvable\"&lt;&lt;endl; } } return 0;}","link":"/post/HDU_1043/"},{"title":"C++ å­¦ä¹ ç¬”è®°(äºŒ)","text":"decltype ç±»å‹åˆ¶å®šç¬¦ç”¨å¤„: å½“æˆ‘ä»¬ä¸çŸ¥é“æŸä¸ªå˜é‡çš„ç±»å‹è€Œéœ€è¦ä»è¡¨è¾¾å¼æ¨æ–­è¦å®šä¹‰çš„ç±»å‹æ—¶,å¯ä»¥ä½¿ç”¨C++11çš„ç¬¬äºŒç§ç±»å‹è¯´æ˜ç¬¦.,å®ƒçš„å®é™…ä½œç”¨å°±æ˜¯è¿”å›æ“ä½œæ•°çš„æ•°æ®ç±»å‹.åœ¨æ­¤è¿‡ç¨‹ä¸­,ç¼–è¯‘å™¨åˆ†æè¡¨è¾¾å¼å¹¶å¾—åˆ°å…¶ç±»å‹,ä½†å®é™…è¿ç®—è¡¨è¾¾å¼çš„å€¼ >> 123const int ci = 0,&amp;cj = ci;decltype(ci) x = 0; //x çš„æ•°æ®ç±»å‹æ˜¯ const intdecltype(cj) y = x; //y çš„æ•°æ®ç±»å‹æ˜¯ const int&amp; å¿…é¡»å¯¹å…¶è¿›è¡Œåˆå§‹åŒ–,å¦åˆ™ç¼–è¯‘å™¨ä¼šæŠ¥é”™ decltypeä¸å¼•ç”¨ å½“decltypeå¾—åˆ°çš„æ•°æ®ç±»å‹æ˜¯ä¸€ä¸ªå¼•ç”¨å€¼,é‚£ä¹ˆå®ƒåªèƒ½ä½œä¸ºèµ‹å€¼è¯­å¥çš„å·¦å€¼å‡ºç°,å³å¿…é¡»åˆå§‹åŒ–. ç‰¹æ€§: ä¸autoç›¸æ¯”,å½“decltypeçš„è¡¨è¾¾å¼åŠ åŒé‡æ‹¬å·ä»£è¡¨å…¶å¼•ç”¨å€¼. 12int i = 42;decltyp((i)) j = i; //jçš„ç±»å‹æ˜¯ int&amp; å¿…é¡»å¯¹å…¶åˆå§‹åŒ–","link":"/post/cpp2/"},{"title":"C++ å­¦ä¹ ç¬”è®°(ä¸€)","text":"[TOC] å˜é‡çš„å£°æ˜ä¸å®šä¹‰å£°æ˜å…³é”®å­— extern 123extern int a; //å£°æ˜int a; //å£°æ˜å¹¶å®šä¹‰extern int a = 1; //å®šä¹‰ å˜é‡å¯ä»¥è¢«å¤šæ¬¡å£°æ˜,ä»…å¯å®šä¹‰ä¸€æ¬¡ è‹¥æƒ³åœ¨å¤šä¸ªæ–‡ä»¶ä¸­åŒæ—¶åº”ç”¨const å¯¹è±¡,éœ€è¦åœ¨constå‰åŠ extern >> 1extren const int a = 100; const é™å®šç¬¦å¯¹const çš„å¼•ç”¨(ç®€ç§°å¸¸é‡å¼•ç”¨)ä¾‹: 1234int i = 42; const int &amp;r1 = i; const int &amp;r2 = 42; const int &amp;r3 = r1 * 2; å¸¸é‡å¼•ç”¨å¯ä»¥å¯¹éå¸¸é‡æ‰§è¡Œ,ä½†æ˜¯æ— æ³•ä¿®æ”¹å¼•ç”¨å€¼,ä¹Ÿä¸èƒ½é€šè¿‡å¼•ç”¨å€¼ä¿®æ”¹å¸¸é‡. æŒ‡å‘å¸¸é‡çš„æŒ‡é’ˆconst å¯ä»¥ä»¤æŒ‡é’ˆæŒ‡å‘å¸¸é‡æˆ–éå¸¸é‡. ä¸è¿‡æŒ‡é’ˆä¸èƒ½ä¿®æ”¹æ‰€æŒ‡å¯¹è±¡çš„å€¼. 123456789 const double pi = 3.14; const double *cptr = &amp;pi; printf(\"%.2lf\\n\",*cptr); double dval = 3.16; cptr = &amp;dval; printf(\"%.2lf\\n\",*cptr);output:3.143.16 æ‰€è°“æŒ‡å‘å¸¸é‡çš„æŒ‡é’ˆ,ä»…ä»…æ˜¯æŒ‡ä¸èƒ½é€šè¿‡è¯¥æŒ‡é’ˆæ”¹å˜å¸¸é‡çš„å€¼,ä½†æ˜¯å¯ä»¥é€šè¿‡å…¶ä»–æ–¹å¼æ”¹å˜ constæŒ‡é’ˆå³æŒ‡é’ˆæ˜¯å¯¹è±¡,æŠŠæŒ‡é’ˆæœ¬èº«å®šä½å¸¸é‡ å³æŒ‡é’ˆæœ¬èº«æŒ‡å‘ä¸å¯æ›´æ”¹,ä½†å¯é€šè¿‡å…¶æ”¹å˜å…¶æŒ‡å‘çš„éå¸¸é‡çš„å€¼ 1234int a = 0;int *const pa = &amp;a; //å¸¸é‡æŒ‡é’ˆconst double pi = 3.14;const double *const ppi = &amp;pi //æŒ‡å‘å¸¸é‡çš„å¸¸é‡æŒ‡é’ˆ é¡¶å±‚const é¡¶å±‚constè¡¨ç¤ºæŒ‡é’ˆæœ¬èº«æ˜¯ä¸ªå¸¸é‡, è€Œåº•å±‚constè¡¨ç¤ºæŒ‡é’ˆæ‰€æŒ‡å¯¹è±¡æ˜¯ä¸ªå¸¸é‡. 12345ç›®å‰æ‰€è§æœ‰int *const p = &amp;i; //é¡¶å±‚constconst double pi = 3.14; //é¡¶å±‚constconst double *ppi = &amp;pi;//åº•å±‚constconst int &amp;r = i; //ç”¨äºå£°æ˜å¼•ç”¨çš„constå‡ä¸ºåº•å±‚const åˆ†åˆ«constæ˜¯åº•å±‚æˆ–é¡¶å±‚æ—¶,æŒ‰å®šä¹‰åŒºåˆ†å³å¯. åœ¨åº•å±‚constå¯¹è±¡çš„æ‹·è´ä¸­,æ‹·å…¥ä¸æ‹·å‡ºå¿…é¡»æ‹¥æœ‰ç›¸åŒçš„åº•å±‚constèµ„æ ¼,æˆ–ä¸¤è€…ä¸¤è€…ç±»å‹å¯ä»¥è¿›è¡Œè½¬æ¢. å¸¸é‡è¡¨è¾¾å¼å³å€¼ä¸ä¼šæ”¹å˜,ä¸”å€¼åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­å°±å¯å¾—åˆ° 123456ä¾‹å¦‚ const int mx = 100;const int mxx = mx + 10;è€Œå¦‚ä¸‹è¡¨è¾¾å¼å°±ä¸æ˜¯const int x = get_size(); //ç¼–è¯‘è¿‡ç¨‹æ— æ³•å¾—åˆ°å…¶å€¼,é¡»è¿è¡Œæ—¶ç¡®å®šint y = 10; //å€¼ä¸ç¡®å®š constexpré™å®šç¬¦å°†å˜é‡å£°æ˜ä¸ºconstexprç±»å‹,å¯ç”±ç¼–è¯‘å™¨æ¥éªŒè¯å˜é‡çš„å€¼æ˜¯å¦æ˜¯ä¸ªå¸¸é‡è¡¨è¾¾å¼. ä¸”å¯ç”¨äºå£°æ˜å‡½æ•°,ä½†æ­¤ç±»å‡½æ•°é¡»è¶³å¤Ÿç®€å•,èƒ½è®©ç¼–è¯‘å™¨ç¼–è¯‘åå³å¯å¾—åˆ°ç»“æœ.è¿™æ ·çš„å‡½æ•°,å°±å¯ä»¥å»åˆå§‹åŒ–constexprå˜é‡ 123constexpr int mf = 20;constexpr int limit = mf + 1;constexpr int sz = size(); //size() ä¸ºconstexprå‡½æ•° constexpr å®šä¹‰çš„æŒ‡é’ˆå’Œå¼•ç”¨åˆå§‹å€¼å—åˆ°ä¸¥æ ¼é™åˆ¶. å³å®šä¹‰åœ¨ä»»ä½•å‡½æ•°ä¸­çš„å˜é‡å‡ä¸å¯è¢«constexprä¿®é¥°,å› ä¸ºå‡½æ•°ä½“å†…çš„å˜é‡å®šä¹‰ä¸€èˆ¬å¹¶ä¸ä¼šå­˜æ”¾åœ¨å›ºå®šåœ°å€. æ³¨æ„: è‹¥constexprå®šä¹‰ä¸­å­˜åœ¨æŒ‡é’ˆ,åˆ™æ­¤æŒ‡é’ˆä¸ºå¸¸é‡æŒ‡é’ˆ,å³ä¸å…¶æŒ‡å‘çš„å¯¹è±¡æ— å…³. 12const int *p = &amp;i; //æŒ‡å‘å¸¸é‡çš„æŒ‡é’ˆconstexpr int *q = &amp;j; //å¸¸é‡æŒ‡é’ˆ","link":"/post/cpp1/"},{"title":"C++æ ¼å¼åŒ–è¾“å‡ºæ–¹æ³•","text":"cout æµ®ç‚¹æ•°æ ¼å¼åŒ–è¾“å‡ºiomainip.hæ˜¯I/Oæµæ§åˆ¶çš„å¤´æ–‡ä»¶ >> setiosflagsæ“ä½œç¬¦setiosflags() ç®—å­å®é™…ä¸Šæ˜¯ä¸€ä¸ªåº“å‡½æ•°ï¼Œå®ƒä»¥ä¸€äº›æ ‡å¿—ä½œä¸ºå‚æ•°ï¼Œä»¥è¾¾åˆ°ç‰¹å®šä½œç”¨ã€‚ æ ‡ å¿— ä½œ ç”¨ ios::left è¾“å‡ºæ•°æ®åœ¨æœ¬åŸŸå®½èŒƒå›´å†…å‘å·¦å¯¹é½ ios::right è¾“å‡ºæ•°æ®åœ¨æœ¬åŸŸå®½èŒƒå›´å†…å‘å³å¯¹é½ ios::internal æ•°å€¼çš„ç¬¦å·ä½åœ¨åŸŸå®½å†…å·¦å¯¹é½ï¼Œæ•°å€¼å³å¯¹é½ï¼Œä¸­é—´ç”±å¡«å……å­—ç¬¦å¡«å…… ios::dec è®¾ç½®æ•´æ•°çš„åŸºæ•°ä¸º 10 ios::oct è®¾ç½®æ•´æ•°çš„åŸºæ•°ä¸º 8 ios::hex è®¾ç½®æ•´æ•°çš„åŸºæ•°ä¸º 16 ios::showbase å¼ºåˆ¶è¾“å‡ºæ•´æ•°çš„åŸºæ•°ï¼ˆå…«è¿›åˆ¶æ•°ä»¥ 0 å¼€å¤´ï¼Œåå…­è¿›åˆ¶æ•°ä»¥ 0x æ‰“å¤´ï¼‰ ios::showpoint å¼ºåˆ¶è¾“å‡ºæµ®ç‚¹æ•°çš„å°ç‚¹å’Œå°¾æ•° 0 ios::uppercase åœ¨ä»¥ç§‘å­¦è®°æ•°æ³•æ ¼å¼ E å’Œä»¥åå…­è¿›åˆ¶è¾“å‡ºå­—æ¯æ—¶ä»¥å¤§å†™è¡¨ç¤º ios::showpos å¯¹æ­£æ•°æ˜¾ç¤ºâ€œ+â€å· ios::scientific æµ®ç‚¹æ•°ä»¥ç§‘å­¦è®°æ•°æ³•æ ¼å¼è¾“å‡º ios::fixed æµ®ç‚¹æ•°ä»¥å®šç‚¹æ ¼å¼ï¼ˆå°æ•°å½¢å¼ï¼‰è¾“å‡º ios::unitbuf æ¯æ¬¡è¾“å‡ºä¹‹ååˆ·æ–°æ‰€æœ‰çš„æµ ios::stdio æ¯æ¬¡è¾“å‡ºä¹‹åæ¸…é™¤ stdout, stderr 1234//ä¾‹å¦‚ double db = 123.456; cout&lt;&lt;setiosflags(ios::fixed)&lt;&lt;setprecision(2)&lt;&lt;db&lt;&lt;endl;//è®¾ç½®ä¸ºä»¥æµ®ç‚¹æ•°æ ¼å¼è¾“å‡ºï¼Œå†è®¾å®šä¿ç•™2ä½å°æ•°ï¼ˆå››èˆäº”å…¥ï¼‰//å¤šä¸ªæ ‡å¿—ç¬¦ä¹‹é—´å¯ä»¥ä½¿ç”¨â€˜|â€™ç›¸è¿","link":"/post/cpp6/"},{"title":"C++ å­¦ä¹ ç¬”è®°(ä¸‰)","text":"è€ƒè¯•å‘¨ç»ˆäºè¿‡å»äº†ğŸ˜­ç„¶åç°åœ¨æ‡’æ•£çš„ä¸€ç‚¹ä¸æ„¿æ„å­¦ä¹ å¯å’‹æ•´.. åˆ·é¢˜çš„çŠ¶æ€è¿˜æœ‰å¾…æ¢å¤ï¼Œå…ˆå­¦å­¦C++å§ >> èŒƒå›´forè¯­å¥12for (declaration : expression) statement expresstionæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¡¨ç¤ºä¸€ä¸ªåºåˆ— declarationè´Ÿè´£å®šä¹‰ä¸€ä¸ªå˜é‡ï¼Œç”¨äºè®¿é—®åºåˆ—ä¸­çš„åŸºæœ¬å…ƒç´  cctypeå¤´æ–‡ä»¶å‡½æ•°123456789isalnum(c) // cæ˜¯å­—æ¯æˆ–è€…æ•°ç»„æ—¶ä¸ºçœŸisalpha(c) //cæ˜¯å­—æ¯iscntrl(c) //cæ˜¯æ§åˆ¶å­—ç¬¦isxdigit(c) //cæ˜¯16è¿›åˆ¶æ•°å­—isdigit(c) //cæ˜¯æ•°å­—isspace(c) //cæ˜¯ç©ºç™½ï¼ˆç©ºæ ¼ï¼Œåˆ¶è¡¨ç¬¦ï¼Œå›è½¦ç¬¦ï¼Œæ¢è¡Œç¬¦ï¼Œè¿›çº¸ç¬¦(\\f,\\x0c,\\cL )ï¼‰isgraph(c) //cä¸æ˜¯ç©ºæ ¼ä½†å¯ä»¥æ‰“å°isupper(c)islower(c) æ•°ç»„ä½¿ç”¨æ•°ç»„ä¸‹æ ‡æ—¶ï¼Œé€šå¸¸ä½¿ç”¨size_tç±»å‹ï¼Œå³ä¸æœºå™¨ç›¸å…³è¶³å¤Ÿå¤§çš„æ— ç¬¦å·æ•´å½¢ï¼Œå­˜åœ¨ä¸­ æŒ‡é’ˆä¹Ÿæ˜¯è¿­ä»£å™¨ 1234567ä¾‹å¦‚ï¼šint a[10]; //å®šä¹‰æ•°ç»„ int *s = &amp;a[0]; //å®šä¹‰å¤´æŒ‡é’ˆint *t = &amp;a[10]; //å®šä¹‰å°¾åæŒ‡é’ˆ//ç”±äºæ­¤ç”¨æ³•ææ˜“å‡ºé”™ï¼Œc++11å¢åŠ æ ‡å‡†åº“å‡½æ•° begin(),end()int *beg = begin(a);int *last = end(a); string çš„åˆå§‹åŒ–stringå…è®¸ä½¿ç”¨ç©ºå­—ç¬¦ç»“æŸçš„å­—ç¬¦æ•°ç»„æ¥åˆå§‹åŒ–stringå¯¹è±¡ 1string s(\"hello world\"); string ä¸“é—¨æä¾›äº†ä¸€ä¸ªåä¸ºc_strçš„æˆå‘˜å‡½æ•°ï¼Œå³è¿”å›cé£æ ¼çš„å­—ç¬¦ä¸²ï¼Œå³ä»¥ç©ºå­—ç¬¦ç»“æŸçš„å­—ç¬¦æ•°ç»„çš„æŒ‡é’ˆ 1const char *str = s.c_str(); //å°†stringè½¬åŒ–ä¸ºå­—ç¬¦æ•°ç»„çš„æŒ‡é’ˆç±»å‹ vectorçš„æ•°ç»„åˆå§‹åŒ–æ–¹æ³•123int int_arr[] = {1,2,3,4,5,6};vector&lt;int&gt; ivec(begin(int_arr),end(int_arr)); //ä½¿ç”¨æ•°ç»„é¦–æŒ‡é’ˆä¸å°¾åæŒ‡é’ˆåˆå§‹åŒ–vector&lt;int&gt; subVec(int_arr+1,int_arr+4);","link":"/post/cpp3/"},{"title":"ä¸€ç»´æ ‘çŠ¶æ•°ç»„è¯¦è§£","text":"æ ‘çŠ¶æ•°ç»„çš„ç®€æ´æ˜“ç”¨ç®€ç›´æ˜¯æ¯”èµ›ç¥å™¨..è€Œä¸”ç†è§£ä¹Ÿä¸éš¾ æˆ‘è¿™æ ·çš„èœé¸¡éƒ½å­¦ä¼šäº† é‚£ä¹ˆå°±å†™ä¸€ç¯‡æ•™ç¨‹æƒå½“æ€»ç»“å§..ä»¥å…æ—¥åå¿˜äº†.. >> è¦äº†è§£æ ‘çŠ¶æ•°ç»„,é¦–å…ˆéœ€è¦äº†è§£å®ƒæ˜¯ç”¨æ¥åšä»€ä¹ˆçš„.é‚£ä¹ˆ: æ ‘çŠ¶æ•°ç»„çš„é—®é¢˜æ¨¡å‹ å•ç‚¹ç»´æŠ¤,åŒºé—´æŸ¥è¯¢(PUIQé—®é¢˜) åŒºé—´ç»´æŠ¤,å•ç‚¹æŸ¥è¯¢(IUPQé—®é¢˜) æ±‚é€†åºå¯¹é—®é¢˜ æ ‘çŠ¶æ•°ç»„çš„é€»è¾‘æ¨¡å‹å¦‚å›¾:çªç„¶ä¸€çœ‹å¯èƒ½éš¾ä»¥ç†è§£,é‚£ä¹ˆæ˜¯ä»€ä¹ˆæŠŠå®ƒä»¬è”ç³»èµ·æ¥çš„å‘¢?æ¥ä¸‹æ¥ä»‹ç»lowbitå‡½æ•° lowbit(æ±‚äºŒè¿›åˆ¶æ•°æœ€åä¸€ä½1çš„ä½ç½®)è¿™é‡Œç”¨åˆ°äº†è¡¥ç çš„åŸç†: å³è´Ÿæ•°çš„è¡¥ç ä¸ºå…¶äºŒè¿›åˆ¶ç»å¯¹å€¼å–å+1,è€Œå½“å…¶ä¸å…¶ç»å¯¹å€¼å–&amp;æ“ä½œæ—¶å¾—åˆ°çš„æ°å¥½å°±æ˜¯å…¶äºŒè¿›åˆ¶æœ€åä¸€ä½1çš„ä½ç½® ä¾‹å¦‚:00001000(8)çš„è´Ÿæ•°è¡¥ç ä¸º11111000(-8) ä¸æ“ä½œåä¸º00001000 è€Œlowbit(8)çš„å€¼å°±ä¸º 00001000; åˆ™ lowbitå‡½æ•°ä»£ç  1234inline int lowbit(int x){ return x &amp; -x;} è¿™é‡Œå°±ç¨å¾®åä¸ªé¢˜é¡ºä¾¿ä»‹ç»ä¸€ä¸‹inline(å†…è”å‡½æ•°) C++å…³é”®å­—ï¼Œåœ¨å‡½æ•°å£°æ˜æˆ–å®šä¹‰ä¸­å‡½æ•°è¿”å›ç±»å‹å‰åŠ ä¸Šå…³é”®å­—inlineï¼Œå³å¯ä»¥æŠŠå‡½æ•°æŒ‡å®šä¸ºå†…è”å‡½æ•°ã€‚ åœ¨c/c++ä¸­ï¼Œä¸ºäº†è§£å†³ä¸€äº›é¢‘ç¹è°ƒç”¨çš„å°å‡½æ•°å¤§é‡æ¶ˆè€—æ ˆç©ºé—´ï¼ˆæ ˆå†…å­˜ï¼‰çš„é—®é¢˜ï¼Œç‰¹åˆ«çš„å¼•å…¥äº†inlineä¿®é¥°ç¬¦ï¼Œè¡¨ç¤ºä¸ºå†…è”å‡½æ•°ã€‚æ­¤å…³é”®å­—ä»…æ˜¯å¯¹ç¼–è¯‘å™¨çš„ä¸€ç§å»ºè®®,å¹¶éå¼ºåˆ¶.å¯¹äºå†…å®¹è¾ƒçŸ­ä¸”æ— å¾ªç¯çš„ä»£ç ,inlineçš„ä½¿ç”¨å¯ä»¥å¢åŠ å‡½æ•°è¿è¡Œçš„æ•ˆç‡,ä½†å…¶æ•ˆç‡çš„å¢åŠ æ˜¯ä»¥ä»£ç é•¿åº¦ä¸ºä»£ä»·,æ‰€ä»¥,ä»…åœ¨çŸ­ä¸”æ— å¾ªç¯çš„å‡½æ•°å‰å¯ä»¥ä½¿ç”¨,å…¶ä»–æƒ…å†µé¿å…ä½¿ç”¨. åŸç† é‚£ä¹ˆlowbitå‡½æ•°çš„ç”¨å¤„æ˜¯ä»€ä¹ˆå‘¢. è®©æˆ‘ä»¬ä»¥äºŒè¿›åˆ¶æ€ç»´ç¨å¾®æ³¨æ„ä¸€ä¸‹å¯ä»¥å‘ç°,æ¯ä¸ªåºå·çš„äºŒè¿›åˆ¶æ•°çš„åå¯¼0çš„ä¸ªæ•°,æ°ä¸ºå…¶åŒ…å«çš„æ•°ç»„çš„æ·±åº¦(è‡ªåº•å‘ä¸Šçš„),è®¾å…¶ä¸ºd,é‚£ä¹ˆå…¶åŒ…å«çš„èŒƒå›´å°±æ˜¯åŒ…æ‹¬å®ƒå‘å‰çš„2^dä¸ªæ•°.å¦‚100(4)ä¸ºä»100å‘å‰4ä¸ªåŸæ•°ç»„ä¸­çš„æ•°çš„å’Œ,è€Œ110(6)æ˜¯ä»110å‘å‰2ä¸ªåŸæ•°ç»„ä¸­çš„æ•°çš„å’Œ. æˆ‘ä»¬ä»¤åŸæ•°ç»„ä¸ºa[],æ ‘çŠ¶æ•°ç»„ä¸ºtree[]. è¿™æ—¶,æˆ‘ä»¬å¯ä»¥ç†è§£treeæ•°ç»„ä¸­å­˜å‚¨çš„åˆ°åº•æ˜¯ä»€ä¹ˆæ•°æ®,é‚£ä¹ˆå¯¹äºä»¥ä¸Šé—®é¢˜æ¨¡å‹,æˆ‘ä»¬è¯¥å¦‚ä½•æ±‚è§£å‘¢. æ›´æ–°(updateå‡½æ•°)æˆ‘ä»¬è¦æ›´æ–°åŸæ•°ç»„ä¸­æŸä¸€ä¸ªæ•°,é‚£ä¹ˆå°±å¾—æ›´æ–°æ ‘çŠ¶æ•°ç»„ä¸­æ‰€æœ‰åŒ…å«å®ƒçš„æ•°æ®,é‚£ä¹ˆ,éƒ½æœ‰å“ªç»„æ•°æ®åŒ…å«å®ƒå‘¢,ä¹Ÿå°±æ˜¯å¯»æ‰¾è¿™ä¸ªå­èŠ‚ç‚¹çš„æ‰€æœ‰æ ¹èŠ‚ç‚¹çš„ç‰¹ç‚¹. è¿™æ—¶,å°±åˆè½®åˆ°æˆ‘ä»¬çš„lowbitå‡½æ•°ä¸Šåœºäº†,xçš„æ‰€æœ‰çˆ¶èŠ‚ç‚¹åªéœ€+ lowbit(x)```å°±å¯ä»¥å¾—åˆ°.12345678é‚£ä¹ˆupdateå‡½æ•°çš„ä»£ç (æ—¶é—´å¤æ‚åº¦O(logn)):```cpp//xä¸ºéœ€è¦ä¿®æ”¹çš„èŠ‚ç‚¹,vä¸ºa[x]å¢åŠ çš„å€¼,næ˜¯æ ‘çŠ¶æ•°ç»„çš„æœ€å¤§èŒƒå›´.void update(int x,int v){ for(;x &lt;= n;x += lowbit(x)) tree[x] += v;} æŸ¥è¯¢(queryå‡½æ•°)å¯¹äºæ ‘çŠ¶æ•°ç»„tree,æˆ‘ä»¬å¯ä»¥äº†è§£å…¶å­˜å‚¨çš„å€¼å®è´¨ä¸Šæ˜¯æŸä¸€åŒºé—´çš„å‰ç¼€å’Œ.æˆ‘ä»¬æŸ¥è¯¢æŸä¸€æ®µåŒºé—´(x,y)çš„å€¼,å°±åªéœ€è¦æ±‚å‡ºyçš„å‰ç¼€å’Œå‡å»x-1çš„å‰ç¼€å’Œè¿™æ ·å¾—åˆ°çš„,å°±æ˜¯åŒºé—´(x,y)çš„å’Œ. é‚£ä¹ˆ(1,x)åŒºé—´çš„å‰ç¼€å’Œæ€ä¹ˆæ±‚å‘¢,ä»ç„¶æ˜¯lowbitå‡½æ•°,åªéœ€è¦åšä¸€éæ›´æ–°çš„é€†è¿‡ç¨‹,å³è®¡ç®—treeæ•°ç»„(x-&gt;1)çš„å’Œå°±å¯ä»¥æ±‚å‡ºæ‰€æœ‰ä¸é‡åˆçš„åŒºé—´å‰ç¼€å’Œ. ä¸ºä»€ä¹ˆtree(x-&gt;1)å°±æ˜¯è¯¥åŒºé—´çš„å‰ç¼€å’Œ? åœ¨äºŒè¿›åˆ¶çš„è§†è§’ä¸‹,xçš„æ•°ä½ä¸Šæ¯ä¸€ä¸ª1,éƒ½ä»£è¡¨å…¶ä¸€æ®µåŸŸå†…çš„å€¼,é‚£ä¹ˆ,æ¯ä¸ª1éƒ½å¿…ç„¶ä¸å…¶ä»–1çš„èŒƒå›´ä¸é‡åˆä¾‹å¦‚:12345678910å¦‚æ­¤,queryçš„ä»£ç å°±å¾ˆæ˜äº†äº†.```cppint query(int x){ int res = 0; for(;x &gt; 0;x -= lowbit(x)) res += tree[x]; return res;} æ¿å­é¢˜é“¾æ¥(luoguP3374) åˆ°æ­¤ä¸ºæ­¢,æˆ‘ä»¬è®²è§£çš„å°±æ˜¯PUIQæ¨¡å‹,å³ç‚¹æ›´æ–°,æ®µæŸ¥è¯¢. æ€ä¹ˆæ ·ä»£ç æ˜¯ä¸æ˜¯çŸ­åˆ°æ€€ç–‘äººç”Ÿ,è¿™åœ¨èµ›åœºä¸Šå†™èµ·æ¥ä¸æ˜¯èˆ’èˆ’æœæœ? é‚£ä¹ˆ,æ¥ä¸‹æ¥çš„IUPQæ¨¡å‹,å°±éœ€è¦ä¸€ä¸ªåˆ‡å…¥ç‚¹æ¥å®Œæˆæ“ä½œäº†. IUPQæ¨¡å‹çš„è§£é¢˜åˆ‡å…¥ç‚¹â€”å·®åˆ†å½“æˆ‘ä»¬æƒ³è¦è¿›è¡Œæ®µæ›´æ–°æ—¶,é‚£ä¹ˆå¦‚æœä»ç„¶ç”¨ä¸Šé¢çš„ä»£ç ,å°±ä¸å¾—ä¸æ·»åŠ ä¸€ä¸ªforå¾ªç¯,æ­¤æ—¶updateå‡½æ•°çš„æ—¶é—´å¤æ‚åº¦ä¼šä¸Šå‡åˆ°O(nlogn),é‚£ä¹ˆ,æœ‰æ²¡æœ‰ä»€ä¹ˆæ–¹æ³•æ¥ä¼˜åŒ–æ“ä½œå‘¢?è§£å†³æ–¹æ¡ˆå°±æ˜¯â€“å·®åˆ† å·®åˆ†,ä¹Ÿå°±æ˜¯å®šä¹‰ä¸€ä¸ªå·®åˆ†æ•°ç»„bæ¥å­˜å‚¨aæ•°ç»„çš„å·®å€¼,è€Œtreeä½œä¸ºæ•°ç»„bçš„æ ‘çŠ¶æ•°ç»„. å³: 1234567b[1] = a[1]b[2] = a[2] - a[1]b[4] = a[4] - a[1]tree[1] = b[1]tree[2] = b[2] + tree[1]tree[4] = tree[2] + tree[3] + b[4] é‚£ä¹ˆè¿™æ—¶çš„aæ•°ç»„å€¼è¯¥å¦‚ä½•å¾—åˆ°å‘¢? å¯¹äºbæ•°ç»„,+...+b[n]```12345è€Œqueryå‡½æ•°åˆšå¥½å°±æ˜¯ç”¨æ¥æ±‚b[n]çš„å‰ç¼€å’Œ,ä¹Ÿå°±æ˜¯a[n]çš„å€¼.é‚£ä¹ˆæ›´æ–°æ“ä½œå‘¢,å¯¹äºå·®åˆ†æ•°ç»„b,è‹¥æˆ‘ä»¬æƒ³è¦æ›´æ–°```[l,r]```èŒƒå›´å†…çš„å€¼+v,é‚£ä¹ˆæˆ‘ä»¬åªéœ€è¦å°†```b[l]```æ›´æ–°ä¸º```b[l] + v```å°±ä»£è¡¨ç€```a[l] - a[n]```æ‰€æœ‰æ•°éƒ½+1,è€Œåœ¨```b[r+1]```å¤„å°†+vçš„æ•ˆæœæ¶ˆé™¤,å³```b[r+1] - v é‚£ä¹ˆå¦‚ä½•å°†è¿™ä¸ªæ“ä½œæ›´æ–°åœ¨treeæ•°ç»„ä¸­,å°±æ˜¯ä¸Šæ–‡updateçš„äº‹æƒ…äº†. å³åªéœ€æ›´æ–°b[l]+v,b[r+1]-vå³å¯ 12update(l,v);update(r+1,-v); å¤æ‚åº¦åŒæ ·ä¸ºO(logn) æ¿å­é¢˜é“¾æ¥(luoguP3368) æ±‚é€†åºå¯¹é—®é¢˜é—®é¢˜æ¨¡å‹,ç»™å®šnä¸ªæ•´æ•°,æ±‚å‡ºé€†åºæ•´æ•°å¯¹æ•°(å³> a[v] && u < v```çš„æ•´æ•°å¯¹)12345678çœ‹è§é¢˜ç›®æˆ‘ä»¬å°±å¯ä»¥å†™å‡ºO(n2)çš„æš´åŠ›foræ¥æ±‚è§£,ä½†æ˜¯å¦‚ä½•å°†å…¶ç”¨æ ‘çŠ¶æ•°ç»„æ¥ä¼˜åŒ–åˆ°O(nlogn)å‘¢è¿™é‡Œç”¨åˆ°æ¡¶æ’åºçš„æ€æƒ³.é¦–å…ˆè®©é—®é¢˜ç®€å•åŒ–ä¸€ç‚¹,è®©nä¸ªæ•´æ•°a[i]å‡å°äºç­‰äº100.é‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥å¼€tree[105]çš„æ•°ç»„,æ¯æ¬¡è¯»å…¥æ›´æ–°ä¸€ä¸ªæ•°æ—¶,åªéœ€```update(a[i],1) æ­¤æ—¶,æ¯”a[i]å¤§çš„æ•°å­—å°±æ˜¯éœ€è¦æ›´æ–°çš„é€†åºå¯¹å¯¹æ•°,å³- query(a[i])```å› ä¸ºå½“å‰å…±è¯»å…¥äº†iä¸ªæ•°,é‚£ä¹ˆæ±‚å€¼äº¦å¯ç®€åŒ–ä¸º```i - query[a[i]]```12345678910111213141516171819202122ä¹Ÿå°±æ˜¯è¯»å…¥ä¸€è½®+æ¯æ¬¡æŸ¥è¯¢å°±å¯å¾—åˆ°æ€»å…±çš„é€†åºå¯¹å¯¹æ•°.æ—¶é—´å¤æ‚åº¦O(nlogn)é‚£ä¹ˆå½“æ•°æ®è¶³å¤Ÿå¤§æ—¶,æˆ‘ä»¬çš„æ•°ç»„å­˜ä¸ä¸‹çš„æ—¶å€™å‘¢,è¿™æ—¶å€™,å°±è½®åˆ°æˆ‘ä»¬çš„æ ¸å¿ƒæ€æƒ³,ç¦»æ•£åŒ–å‡ºåœºäº†.å¯¹äºç¦»æ•£åŒ–,ä¸ªäººç†è§£å°±æ˜¯ç”±äºæƒ³è¦åˆ©ç”¨æ¡¶æ•°ç»„,æ•…å°†æ•°æ®ç›¸å¯¹ç¼©å°(ä¿è¯ç›¸å¯¹å¤§å°ä¸å˜)åˆ°å¯ä»¥å¼€åˆ°çš„æ•°ç»„é‚£ä¹ˆå¤§è€Œå‡å°ç©ºé—´éœ€æ±‚.é‚£ä¹ˆåˆ°åº•è¯¥å¦‚ä½•å®ç°,è¯·çœ‹å¦‚ä¸‹ä»£ç :```cppç¦»æ•£åŒ–æ ¸å¿ƒä»£ç :struct node{ int v;//æ•°å€¼æœ¬èº« int order;//åŸåºåˆ—çš„çš„ä¸‹æ ‡}a[500005];int dis[500005]; //ç”¨æ¥å­˜å‚¨åŸæ•°ç¬¬iä¸ªæ•°çš„orderä¸‹æ ‡æ˜¯ä»€ä¹ˆsort(a,a+n,cmp); //æ³¨æ„éœ€è¦ç”±å¤§åˆ°å°æ’for(int i = 1;i &lt;= n;++i) dis[a[i].order] = i; åŸç†å¾ˆç®€å•å°±åªæ˜¯æŒ‰a[i].vçš„å¤§å°é‡æ’,å¹¶é‡æ–°èµ‹äºˆä»–ä»¬ç›¸å¯¹å¤§å°ä¸å˜,æ•´ä½“ç¼©å°çš„æ–°çš„a[i].v å…·ä½“ä»£ç å¦‚ä¸‹:(HDU2689) 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859#include &lt;bits/stdc++.h&gt;#define mem(n) memset(n,0,sizeof(n))using namespace std;int n;struct node{ int val,order; bool operator &lt; (const node &amp; x) const{ return this-&gt;val &lt; x.val; } }a[1005];int dis[1005]; //å·®åˆ†æ•°ç»„int tree[1005];inline int lowbit(int x){ return x &amp; -x;}void update(int x,int v){ for(;x &lt;= n;x +=lowbit(x)) tree[x] += v;}int query(int x){ int res = 0; for(;x &gt; 0;x -= lowbit(x)) res += tree[x]; return res;}int main(){ while(~scanf(\"%d\",&amp;n)){ mem(a); mem(dis); mem(tree); for(int i = 1;i &lt;=n;++i){ scanf(\"%d\",&amp;a[i].val); a[i].order = i; } sort(a + 1, a + 1 + n); for(int i = 1;i &lt;= n;++i){ dis[a[i].order] = i; } int cnt = 0; for(int i = 1;i &lt;= n;++i){ update(dis[i],1); cnt += i - query(dis[i]); } printf(\"%d\\n\",cnt); } return 0;}","link":"/post/ä¸€ç»´æ ‘çŠ¶æ•°ç»„è¯¦è§£/"},{"title":"å„ç±»æ’åºä»£ç åŠå¤æ‚åº¦","text":"ä¸‹åˆå°±è¦è€ƒæ•°æ®ç»“æ„äº†å‘€æœ‰ç‚¹æ…Œâ€¦.æ‰€ä»¥çœ‹çœ‹æ’åºæŠ±æŠ±ä½›è„š..äºæ˜¯â€¦å†™äº†å †æ’åºå°±åœä¸ä¸‹æ¥äº†å‘¢â€¦ æ‰€ä»¥å°±æŠŠä¸Šè¯¾è€å¸ˆè®²çš„æ’åºéƒ½å†™äº†ä¸€é..äº¤é¢˜éƒ½è¿‡äº†å¯æ˜¯å¤æ‚åº¦å¯èƒ½ä¼šæœ‰äº›å°é—®é¢˜.. >> 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116//-------------------------å †æ’åº------------------------////æ—¶é—´å¤æ‚åº¦ å¹³å‡ O(nlogn) æœ€å O(nlogn)//ç©ºé—´å¤æ‚åº¦ O(1)#include &lt;bits/stdc++.h&gt;using namespace std;int a[1000006],n;void PercDown(int a[],int i,int n) //O(logn){ if(2 * i + 1 &gt;= n) return ; else if(2 * i + 2 &gt;= n){ if(a[i * 2 + 1] &gt; a[i]) swap(a[i* 2 + 1] , a[i]); } else{ int p = i * 2 + 1,q = i * 2 + 2; if(a[p] &gt; a[q]) swap(p,q); if(a[i] &lt; a[q]){ swap(a[q],a[i]); PercDown(a,q,n); } }}//(i + 1) * 2 (+ 1) - 1 = 2 * i + 1 || 2 * i + 2;void HeapSort(int a[],int n){ for(int i = n/2;i &gt;= 0;--i){ //å»ºå †ï¼ˆå¤§æ ¹å †ï¼‰ PercDown(a,i,n); } for(int i = n-1;i &gt;= 0;--i){ //æ›´æ–°å¤§æ ¹å † swap(a[0],a[i]); PercDown(a,0,i); }}//-------------------------å¿«é€Ÿæ’åº------------------------////æ—¶é—´å¤æ‚åº¦ å¹³å‡ O(nlogn) æœ€å O(n^{2})//ç©ºé—´å¤æ‚åº¦ O(logn)#include &lt;bits/stdc++.h&gt;using namespace std;int a[1000006];void QuickSort(int a[],int l,int r) { int i,j,p; p = a[l]; i = l,j = r; while(i &lt; j){ while(i &lt; j &amp;&amp; a[j] &gt;= p){ //å…ˆç§»åŠ¨å³æŒ‡é’ˆå¯»æ‰¾å¤§äºå“¨å…µçš„å€¼ j--; } if(i != j){ a[i] = a[j]; } else break; while(i &lt; j &amp;&amp; a[i] &lt;= p){ //åç§»åŠ¨å·¦æŒ‡é’ˆå¯»æ‰¾å°äºå“¨å…µçš„å€¼ i++; } if(i != j){ a[j] = a[i]; } else break; } a[j] = p; //æŒ‡é’ˆç›¸ç¢°ï¼ŒæŒ‡é’ˆä½ç½®å°±æ˜¯å“¨å…µçš„æœ€ç»ˆä½ç½® if(l &lt; j) QuickSort(a,l,j); if(j+1 &lt; r)QuickSort(a,j+1,r);}//-----------------------ç›´æ¥æ’å…¥æ’åº----------------------////æ—¶é—´å¤æ‚åº¦ å¹³å‡ O(n^{2}) æœ€å O(n^{2})//ç©ºé—´å¤æ‚åº¦ O(1)#include &lt;bits/stdc++.h&gt;using namespace std;int a[1000006];void InsertSort(int a[],int n){ for(int i = 1;i &lt; n;++i){ int p = a[i]; for(int j = i;j &gt;= 0;--j){ if(a[j-1] &gt; p) a[j] = a[j-1]; else{ a[j] = p; break; } } }}//-------------------------å¸Œå°”æ’åº------------------------////æ—¶é—´å¤æ‚åº¦ å¹³å‡ O(nlogn) æœ€å O(n^{2})//ç©ºé—´å¤æ‚åº¦ O(1)#include &lt;bits/stdc++.h&gt;using namespace std;int a[1000006];void ShellSort(int a[],int n){ for(int d = n/2;d &gt; 0;d/=2){ //ä»¥n/2ä¸ºå¢é‡åºåˆ— for(int p = d;p &lt; n;++p){ int tmp = a[p]; int i = p; for(i = p;i &gt;= d &amp;&amp; a[i-d] &gt; tmp; i-=d) a[i] = a[i-d]; a[i] = tmp; } }}","link":"/post/sort/"},{"title":"å¤§æ•°è¿ç®—æ¨¡æ‹Ÿ","text":"ä»å‰çš„å¤§æ•°æ¨¡æ‹Ÿéƒ½æ˜¯è‡ªå·±ç”¨å­—ç¬¦ä¸²æ¥æ•²çš„,çªç„¶çœ‹åˆ°åŒå­¦çš„ä»£ç åé‡Šæ”¾äº†å¾ˆå¤šæ€ç»´,ä¸ä»…æ•²å¾—å¿«è¿˜ä¸å®¹æ˜“é”™,äºæ˜¯æ‰¾ä¸ªæ™šä¸Šæ•²ä¸‹å¤§æ•°çš„ä¸€äº›æ¨¡æ‹Ÿ,ç•™ä¸‹æ¿å­è®°å½•ä¸€ä¸‹. >> å¯¹äºè´Ÿæ•°åŠ å‡æ¨¡æ‹Ÿè¿ç®—æˆ‘ä»¬å¯ä»¥åˆ†æƒ…å†µè®¨è®ºå¹¶ç¼–å†™å¦ä¸€ä¸ªå‡½æ•°,å³: è‹¥ä¸¤æ•°å‡æ­£ 1* è‹¥ä¸¤æ•°å‡è´Ÿ ```ans = &apos;-&apos; + add(a,b) è‹¥ä¸€æ­£ä¸€è´Ÿ 1234567891011121314151617181920212223**å¯æ‹Ÿå‡½æ•°**```cppstring add_op(string a,string b){ string ans; if(a[0] == &apos;-&apos; &amp;&amp; b[0] == &apos;-&apos;){ a.erase(a.begin()); b.erase(b.begin()); ans = &apos;-&apos; + big_add(a,b); } else if(a[0] == &apos;-&apos;){ a.erase(a.begin()); ans = big_sub(b,a); } else if(b[0] == &apos;-&apos;){ b.erase(b.begin()); ans = big_sub(a,b); } else{ ans = big_add(a,b); } return ans;} å¤§æ•°åŠ æ³• 123456789101112131415161718192021222324252627282930313233343536373839404142434445//ä¸æ”¯æŒè´Ÿæ•°const int MAXN = 1e8 + 10;int t[MAXN];string big_add(string a,string b){ int len1 = a.size(); int len2 = b.size(); reverse(a.begin(),a.end()); //è°ƒæ¢é¡ºåºæ–¹ä¾¿å¤„ç† reverse(b.begin(),b.end()); if(len1 &lt; len2){ swap(a,b); //ä»¤aæ˜¯æ•°ä½è¾ƒé•¿çš„æ•° swap(len1,len2); } for(int i = 0;i &lt; len2;++i){ //tæ•°ç»„å­˜åœ¨ç¬¬iä½ä¸Šä¸¤æ•°ç›¸åŠ çš„ç»“æœ,æš‚æ—¶ä¸è¿›ä½ t[i] = a[i] -'0' + b[i] - '0'; } for(int i = len2;i &lt; len1;++i){ t[i] = a[i] - '0'; } int flag = 0; //flag æ ‡å¿—æ˜¯å¦éœ€è¦è¿›ä½ for(int i = 0;i &lt; len1;++i){ if(flag) { t[i]++; flag = 0; } if(t[i] &gt;= 10){ t[i]-=10; flag = 1; } } if(flag) t[len1] = 1; //å¤„ç†æœ€é«˜ä½æ˜¯å¦éœ€è¦è¿›ä½,è‹¥ä¸éœ€è¦ä»¤æœ€é«˜ä½ä¸º 0 else t[len1] = 0; string ans; flag = 0; for(int i = len1;i &gt;= 0 ;--i){ //å»é™¤å‰å¯¼0 if( flag == 0 &amp;&amp; t[i] == 0) continue; flag = 1; ans.push_back(t[i] + '0'); } if(ans.empty()) ans.push_back('0'); return ans;} å¤§æ•°å‡æ³• 12345678910111213141516171819202122232425262728293031323334353637383940const int MAXN = 1e8 + 10;int t[MAXN];string big_sub(string a,string b){ string ans; int len1 = a.size(); int len2 = b.size(); reverse(a.begin(),a.end()); //è°ƒæ¢é¡ºåºä¾¿äºå¤„ç† reverse(b.begin(),b.end()); for(int i = 0;i &lt; len2 ;++i){ //tæ•°ç»„ä¿å­˜ç¬¬iä½ä¸Šä¸¤æ•°ä¹‹å·® t[i] = a[i] - b[i]; } for(int i = len2;i &lt; len1;++i){ t[i] = a[i] - '0'; //è‹¥aä½æ•°è¾ƒé•¿,åˆ™é•¿åº¦è¶…è¿‡bçš„ä½ç»“æœä¸ºa[i] - 0 } int flag = 0; for(int i = 0;i &lt; len1;++i){ //å€Ÿä½ if(flag){ flag = 0; t[i]--; } if(t[i] &lt; 0){ t[i]+=10; flag = 1; } } flag = 0; for(int i = len1-1;i &gt;= 0;--i){ //å»é™¤å‰å¯¼0 if(!flag &amp;&amp; t[i] == 0) continue; flag = 1; ans.push_back(t[i] + '0'); } if(ans.empty()) ans.push_back('0'); //è‹¥ç»“æœä¸º0,ç­”æ¡ˆ ans = 0 return ans;} å¤§æ•°ä¹˜æ³• 123456789101112131415161718192021222324252627282930313233int t[10000000];string mul(string a,string b){ reverse(a.begin(),a.end()); //äº¤æ¢é¡ºåºï¼Œæ–¹ä¾¿è®¡ç®— reverse(b.begin(),b.end()); int len1=a.size(); int len2=b.size(); for(int i = 0;i &lt; len1;++i) for(int j = 0;j &lt; len2;++j) t[i+j]=(a[i]-'0')*(b[j]-'0')+t[i+j]; //å…ˆæ•´ä½“ä¹˜èµ·æ¥ï¼Œä¸è¿›ä½ t[len1 + len2 -1] = 0; //è¿›ä½ for(int i = 0;i &lt; len1 + len2;++i){ t[i+1] += t[i] / 10; t[i] %= 10; } int x = len1 + len2; //ç»“æœæœ€é•¿çš„ä½æ•° if(t[len1 + len2-1] == 0) x--; string ans = \"\"; int flag = 1; //flagç”¨æ¥åšåšå»é™¤å‰å¯¼é›¶çš„æ ‡è®° for(int i = x-1;i &gt;= 0;--i){ if(t[i] == 0 &amp;&amp; flag) { continue; } flag = 0; ans.push_back(t[i] + '0'); } if(ans.empty()) ans.push_back('0'); //è‹¥ç»“æœä¸ºé›¶,è¿”å›\"0\" return ans;} å¤§æ•°æ±‚æ¨¡ 12345678910//å¤§æ•°æ±‚æ¨¡å°±å¾ˆç®€å•äº†,æ ¹æ®åŒä½™å®šç†æ¥æŒ‰ä½æ±‚æ¨¡å°±å¥½äº†long long big_mod(string a,long long mod){ int len=a.size(); long long ans=0; for(int i=0;i&lt;len;++i) ans=(ans*10%mod+a[i]-&apos;0&apos;)%mod; return ans;}","link":"/post/å¤§æ•°/"},{"title":"çŸ©é˜µå¿«é€Ÿå¹‚","text":"çŸ©é˜µå¿«é€Ÿå¹‚å•Šâ€¦çœŸæ˜¯ä¸ªå¥½ä¸œè¥¿,fjutæ ¡èµ›é¢˜çœ‹åˆ°åå¿ƒæ€çˆ†ç‚¸..è¿™æ¿å­é¢˜è¦æ˜¯å†™ä¸å‡ºä¸å°±è¢«äººæ‹‰ä¸‹ä¸€é¢˜äº†â€¦äºæ˜¯å½“æœºç«‹æ–­..ç°å­¦2333..è¿˜å¥½é¼“æ£å¾ˆä¹…ä¹‹åæŠŠæ¿å­å¥—ä¸Šäº†â€¦äºæ˜¯å›æ¥æ¶è¡¥çŸ©é˜µå¿«é€Ÿå¹‚,è¿™è®°å½•ä¸€ä¸‹. >> è¿çŸ©é˜µéƒ½æ²¡æ¥è§¦è¿‡çš„èœé¸¡è¡¨ç¤º..æˆ‘è¦å…ˆå­¦ä¹ ä¸€ä¸‹çŸ©é˜µæ˜¯ä¸ªå•¥..: çŸ©é˜µçš„åŠ æ³•å’Œæ•°ä¹˜éƒ½å¾ˆç®€å•ç™¾åº¦ä¾¿çŸ¥,ä¹˜æ³•æ‰æ˜¯æˆ‘ä»¬çŸ©é˜µå¿«é€Ÿå¹‚éœ€è¦äº†è§£çš„,è¿™é‡Œä»‹ç»ä¸€ä¸‹å‰ç½®çŸ¥è¯†çŸ©é˜µä¹˜æ³•. çŸ©é˜µä¹˜æ³• ä¸¤ä¸ªçŸ©é˜µå¯ä»¥ç›¸ä¹˜çš„çŸ©é˜µéœ€æ»¡è¶³çš„æ¡ä»¶å·¦çŸ©é˜µçš„åˆ—æ•°å¿…é¡»è¦ä¸å³çŸ©é˜µçš„è¡Œæ•°ç›¸åŒç®€è®°,ä¹˜æ³•è¿‡ç¨‹å°±æ˜¯å·¦çŸ©é˜µçš„è¡Œä¸­æ¯ä¸€ä¸ªæ•°å­—ä¹˜ä»¥å³çŸ©é˜µåˆ—ä¸­çš„æ¯ä¸€ä¸ªæ•°,ä¹˜æ³•è¿‡ç¨‹å¦‚ä¸‹ ä»£ç å®ç°å¦‚ä¸‹(ç»“æ„ä½“ä¸­çš„è¿ç®—ç¬¦é‡è½½): 123456789//æ–¹å½¢çŸ©é˜µ.MAT operator*(MAT p) { MAT res; for(int i=0;i&lt;M;i++) for(int j=0;j&lt;M;j++) for(int k=0;k&lt;M;k++) res.a[i][j]=(res.a[i][j]+a[i][k]*p.a[k][j])%mod; return res; } ç¬¬äºŒä¸ªå‰ç½®çŸ¥è¯†.å¹¿ä¹‰å¿«é€Ÿå¹‚.æ‰€è°“å¹¿ä¹‰å¿«é€Ÿå¹‚,å°±æ˜¯æŒ‡å¿«é€Ÿå¹‚çš„æ€æƒ³(äºŒè¿›åˆ¶æ€æƒ³),å°†ä¸­å¿ƒè¿ç®—ä¿®æ”¹.å³ 12345678910MAT qpow(MAT a,ll b){ MAT res = //åˆå§‹åŒ–; while(b){ if(b &amp; 1) res = res * a ; //* æŸç§è¿ç®— a = a * a; b &gt;&gt;= 1; } return res;} è‹¥æ˜¯éœ€è¦ä¹˜æ³•è¿ç®—,å°±å°†å…¶* æ”¹ä¸º+å³å¯,è‹¥æ˜¯çŸ©é˜µä¹˜è¿ç®—,å°±å°†*æ”¹ä¸ºçŸ©é˜µä¹˜çš„å‡½æ•°,æˆ–é‡è½½ *. çŸ©é˜µå¿«é€Ÿå¹‚ ä»‹ç»äº†è¿™ä¹ˆå¤šå,çŸ©é˜µå¿«é€Ÿå¹‚å°±å·®ä¸å¤šç»“æŸäº†â€¦.emm..æ¯•ç«Ÿä¸¤ä¸ªä¸€å¥—å°±è¡Œäº†â€¦ é‚£ä¹ˆä¸‹é¢æ¥è¯´è¯´çŸ©é˜µå¿«é€Ÿå¹‚çš„åº”ç”¨. çŸ©é˜µå¿«é€Ÿå¹‚æœ€æ£’çš„åº”ç”¨å°±åœ¨äºå®ƒå¯ä»¥åŠ é€Ÿé€’æ¨,ä¾‹å¦‚æ–æ³¢æ‹‰å¥‘æ•°åˆ—,æˆ–éšä¾¿çš„é€’æ¨å¼.åœ¨O(logn)çš„æ—¶é—´å¤æ‚åº¦ä¸‹å®Œæˆé€’æ¨.","link":"/post/çŸ©é˜µå¿«é€Ÿå¹‚/"},{"title":"æ–°çš„ä¸€å¤©,æ–°çš„Blog!","text":"å“ˆå“ˆå“ˆç»è¿‡ä¸€æ•´å¤©æŠ˜è…¾æˆ‘çš„blogç»ˆäºè¦ä¸Šçº¿å•¦(å®åè®¤è¯è¿‡å)ğŸ˜ è™½ç„¶è¿™ä¹ˆä¹…äº†ä¹Ÿæ²¡å†™è¿‡ä¸¤ç¯‡åšå®¢,ä½†æ˜¯æˆ‘è¿˜æ˜¯æœ‰å†³å¿ƒè¦åšæŒä¸‹æ¥çš„,æ¯•ç«Ÿå¾—æœ‰ä¸ªæ€»ç»“å­¦ä¹ çš„åœ°æ–¹å¯¹å§(ä¸¥è‚ƒ). æ›´ä¸»è¦æ˜¯â€¦å­¦è¿‡çš„ä¸œè¥¿å…¨éƒ½å¿˜å¾—å·®ä¸å¤šäº†ğŸ˜­,æ‰æƒ³èµ·å†™ç‚¹åšå®¢ æ¯•ç«Ÿæˆ‘è¿™ä¹ˆæ‡’ emm~åšå®¢ä¸»è¦å†™ä¸€äº›é¢˜è§£å’Œå¯¹ç®—æ³•çš„ä¸€äº›ç†è§£å§,é¡ºä¾¿ç”¨æ¥è®°ä¸€ä¸‹c++,pyçš„å­¦ä¹ ç¬”è®°å¥½äº†. æƒ³æ¥è¿™æµ‘æµ‘å™©å™©çš„ä¸€å¹´ä¹Ÿæ²¡æ²‰æ·€ä¸‹æ¥å•¥,å°±æœ‰ç‚¹ç°å¿ƒ. ğŸ˜”å¾€äº‹ä¸å ªå›é¦–,ICPCè·¯è¿˜è¿œçš„å¾ˆ,äº¦æ­¥äº¦è¶‹å¾€å‰èµ°å§.","link":"/post/æ–°çš„ä¸€å¤©-æ–°çš„blog!/"},{"title":"C++ å­¦ä¹ ç¬”è®°(å››)","text":"è¿™æ¬¡çœ‹çš„ä¸œè¥¿æœ‰ç‚¹å¤š..å“¦ä¸..æ˜¯çœ‹çš„æœ‰ç‚¹éšä¾¿..ç¿»ä¸€ç¿»å°±è¿‡å»äº†â€¦ æ„Ÿè§‰æœ‰ç‚¹åŸºç¡€..?(æ€•ä¸æ˜¯è‡ªå·±å¤ªèœ) æ‰€ä»¥éšä¾¿è®°ä¸€ä¸‹å¥½äº†.. >> å‘½åçš„å¼ºåˆ¶ç±»å‹è½¬æ¢123//å¼ºåˆ¶ç±»å‹è½¬æ¢çš„å½¢å¼cast-name&lt;type&gt;(expression); //type ä¸ºç›®æ ‡ç±»å‹ï¼Œexpressionæ˜¯è¦è½¬æ¢çš„å€¼//cast-nameåˆ™ä¸º{static_cast,dynamic_cast,const_cast,reinterpret_cast}ä¸­çš„ä¸€ç§ ä¸‹é¢è®°å½•ä¸€ä¸‹å„ä¸ªcast-nameçš„æ„ä¹‰ static_cast ä»»ä½•å…·æœ‰æ˜ç¡®æ„ä¹‰çš„ç±»å‹è½¬æ¢ï¼Œåªè¦ä¸åŒ…å«åº•å±‚constï¼Œéƒ½å¯ä»¥ä½¿ç”¨static_cast å¯ä»¥å°†å¤§çš„ç®—æœ¯ç±»å‹è½¬æ¢ä¸ºå°çš„ç®—æœ¯ç±»å‹ï¼Œè€Œä¸äº§ç”Ÿwarning å¯ä»¥ç”¨å…¶å°†å­˜åœ¨voidæŒ‡é’ˆä¸­çš„å€¼è½¬åŒ–å‡ºæ¥ï¼Œå³ï¼š 123double d = 10;void *p = &amp;d;double *dp = static_cast&lt;double*&gt; p; //è¦æ³¨æ„çš„æ˜¯é¿å…è½¬æ¢åæ‰€å¾—ç±»å‹ä¸æŒ‡é’ˆç±»å‹ä¸ç¬¦ï¼Œå¦åˆ™äº§ç”Ÿæœªå®šä¹‰åæœ const_cast å¯¹äºå¸¸é‡å¯¹è±¡è½¬æ¢ä¸ºéå¸¸é‡å¯¹è±¡çš„è¡Œä¸ºï¼Œå³å»æ‰constæ€§è´¨ const_castä»…èƒ½å»æ‰constæ€§è´¨ï¼Œä¸èƒ½è½¬æ¢ç±»å‹ renterpret_cast ä¸ºè¿ç®—å¯¹è±¡çš„ä½æ¨¡å¼æä¾›è¾ƒä½å±‚æ¬¡çš„é‡æ–°è§£é‡Š emmâ€¦è¯»ä¸æ‡‚ å¤§æ¦‚æ„æ€å°±æ˜¯..éšä¾¿è½¬æ¢â€¦? å°±ç®—è½¬æ¢å®Œä¸èƒ½ç”¨ä¹Ÿå¯ä»¥è½¬æ¢â€¦æ‰€ä»¥è½¬æ¢æ—¶ä¸€å®šè¦æ˜ç¡®å…¶æ ¹æœ¬ç±»å‹ï¼Œå°±æ˜¯å®ƒå†…éƒ¨å­˜çš„åˆ°åº•æ˜¯ä»€ä¹ˆç±»å‹ï¼Œæ‰€ä»¥è¯´ä½¿ç”¨å®ƒæ˜¯éå¸¸å±é™©çš„â€¦ç°åœ¨çš„èœé¸¡æ°´å¹³è¿˜æ˜¯å…ˆæŠŠå®ƒæ”¾åœ¨ä¸€è¾¹å§.. c++è¿ç®—ç¬¦ä¼˜å…ˆçº§é¡ºåºè¡¨ç½‘ä¸Šæ¬ä¸ªä¼˜å…ˆçº§è¡¨ğŸ˜ ä¼˜å…ˆçº§ è¿ç®—ç¬¦ æè¿° ç»“åˆæ€§ 1 :: ä½œç”¨åŸŸè§£æ ä»å·¦åˆ°å³ 2 a++ a-- åç¼€è‡ªå¢ä¸è‡ªå‡ *type*() *type*{} å‡½æ•°é£æ ¼è½¬å‹ a() å‡½æ•°è°ƒç”¨ a[] ä¸‹æ ‡ . -&gt; æˆå‘˜è®¿é—® 3 ++a --a å‰ç¼€è‡ªå¢ä¸è‡ªå‡ ä»å³åˆ°å·¦ +a -a ä¸€å…ƒåŠ ä¸å‡ ! ~ é€»è¾‘éå’Œé€ä½é (*type*) C é£æ ¼è½¬å‹ *a é—´æ¥ï¼ˆè§£å¼•ç”¨ï¼‰ &amp;a å–å€ sizeof å–å¤§å°[æ³¨ 1] co_await await è¡¨è¾¾å¼ (C++20) new new[] åŠ¨æ€å†…å­˜åˆ†é… delete delete[] åŠ¨æ€å†…å­˜åˆ†é… 4 .* -&gt;* æˆå‘˜æŒ‡é’ˆ ä»å·¦åˆ°å³ 5 a*b a/b a%b ä¹˜æ³•ã€é™¤æ³•ä¸ä½™æ•° 6 a+b a-b åŠ æ³•ä¸å‡æ³• 7 &lt;&lt; &gt;&gt; é€ä½å·¦ç§»ä¸å³ç§» 8 &lt;=&gt; ä¸‰è·¯æ¯”è¾ƒè¿ç®—ç¬¦(C++20 èµ·) 9 &lt; &lt;= åˆ†åˆ«ä¸º &lt; ä¸ â‰¤ çš„å…³ç³»è¿ç®—ç¬¦ &gt; &gt;= åˆ†åˆ«ä¸º &gt; ä¸ â‰¥ çš„å…³ç³»è¿ç®—ç¬¦ 10 == != åˆ†åˆ«ä¸º = ä¸ â‰  çš„å…³ç³»è¿ç®—ç¬¦ 11 a&amp;b é€ä½ä¸ 12 ^ é€ä½å¼‚æˆ–ï¼ˆäº’æ–¥æˆ–ï¼‰ 13 ` ` é€ä½æˆ–ï¼ˆå¯å…¼æˆ–ï¼‰ 14 &amp;&amp; é€»è¾‘ä¸ 15 ` ` 16 a?b:c ä¸‰å…ƒæ¡ä»¶[æ³¨ 2] ä»å³åˆ°å·¦ throw throw è¿ç®—ç¬¦ co_yield yield è¡¨è¾¾å¼ (C++20) = ç›´æ¥èµ‹å€¼ï¼ˆC++ ç±»é»˜è®¤æä¾›ï¼‰ += -= ä»¥å’ŒåŠå·®å¤åˆèµ‹å€¼ *= /= %= ä»¥ç§¯ã€å•†åŠä½™æ•°å¤åˆèµ‹å€¼ &lt;&lt;= &gt;&gt;= ä»¥é€ä½å·¦ç§»åŠå³ç§»å¤åˆèµ‹å€¼ &amp;= ^= ` =` ä»¥é€ä½ä¸ã€å¼‚æˆ–åŠæˆ–å¤åˆèµ‹å€¼ 17 , é€—å· ä»å·¦åˆ°å³ å±€éƒ¨å¯¹è±¡ åœ¨c++ä¸­ï¼Œåå­—æœ‰å…¶ä½œç”¨åŸŸï¼Œå¯¹è±¡æœ‰ç”Ÿå‘½å‘¨æœŸ å±€éƒ¨é™æ€å¯¹è±¡ï¼ˆstaticï¼‰å±€éƒ¨é™æ€å¯¹è±¡å³åœ¨ç¨‹åºç¬¬ä¸€æ¬¡è°ƒç”¨å‡½æ•°æ—¶å¯¹å…¶åˆå§‹åŒ–ï¼Œå¹¶ç›´åˆ°ç¨‹åºç»“æŸæ‰è¢«é”€æ¯ï¼Œä¸”å‡½æ•°ç»“æŸå¯¹å…¶ä¸äº§ç”Ÿå½±å“ 12345size_t const_calls(){ static size_t cnt = 0; return ++cnt;} å¦‚ä¸Šå°±æ˜¯ä¸€ä¸ªç»Ÿè®¡å‡½æ•°è¢«è°ƒç”¨å¤šå°‘æ¬¡çš„å‡½æ•°ï¼Œç”¨åˆ°static é™æ€å˜é‡ constå½¢å‚ä¸å®å‚å½“ç”¨å®å‚åˆå§‹åŒ–å½¢å‚æ—¶ï¼Œä¼šå¿½ç•¥æ‰é¡¶å±‚const å‡½æ•°å‚æ•°å®šä¹‰æ—¶åº”å°½é‡ä½¿ç”¨å¸¸é‡å¼•ç”¨ï¼Œå³ï¼š func(const int &n)``` 1234567891011ä½¿ç”¨æ™®é€šå¼•ç”¨æ˜¯ä¸€ç§è¾ƒä¸ºå¸¸è§çš„é”™è¯¯ï¼šä»¤ä½¿ç”¨è€…è®¤ä¸ºå¯ä»¥æ”¹å˜å…¶å®å‚çš„å€¼ï¼Œè€Œä¸”å¤§å¤§é™åˆ¶äº†å‚æ•°èŒƒå›´ï¼ˆæ— æ³•ä¼ å…¥å¸¸é‡ï¼‰**ï¼ˆå½“ç„¶è‹¥å‡½æ•°ä½“éœ€è¦æ”¹å˜å…¶å®å‚çš„å€¼ï¼Œåˆ™å¿…é¡»ä½¿ç”¨æ™®é€šå¼•ç”¨ï¼‰**#### æ•°ç»„å½¢å‚å¯ä»¥åˆ©ç”¨å¼•ç”¨æ˜¾å¼çš„ä¼ é€’ä¸€ä¸ªå›ºå®šå¤§å°çš„æ•°ç»„å½¢å‚```cppvoid func(int (&amp;arr)[10]); //ä¼ é€’ä¸€ä¸ªå¤§å°ä¸º10çš„intæ•°ç»„ ç”±äºc++ä¸­æ²¡æœ‰çœŸæ­£çš„å¤šç»´æ•°ç»„ï¼Œæ‰€ä»¥å£°æ˜äºŒç»´æ•°ç»„æ—¶ï¼Œå¯ä»¥å£°æ˜ä¸ºæŒ‡å‘æ•°ç»„çš„æŒ‡é’ˆ 12void func(int (*arr)[10]); //ä¼ é€’ä¸€ä¸ªæŒ‡å‘å¤§å°ä¸º10çš„æ•°ç»„çš„æŒ‡é’ˆvoid func(int arr[][10]); //ç­‰ä»·å®šä¹‰ main()å‡½æ•°çš„ä¼ å‚æœ‰äº›æƒ…å†µä¸‹æˆ‘ä»¬éœ€è¦ç»™mainä¼ å‚è€Œmainçš„å‚æ•°ä¸º 1main(int argc, char **argv); ä¼ å‚æ–¹æ³•ï¼šå¯ä»¥é€šè¿‡è¿è¡Œå¯æ‰§è¡Œæ–‡ä»¶æ—¶åœ¨å‘½ä»¤è¡Œåæ·»åŠ å­—ç¬¦ä¸²å®ç°ï¼ˆä¼ å…¥å‚æ•°ä¸ºargvï¼Œè€Œargcä¸ºargvä¸­å­—ç¬¦ä¸²çš„ä¸ªæ•°ï¼‰ 12$ g++ a.cpp -o a$ ./a a b c d initializer_listç±»å‹å½“å‡½æ•°å®å‚æ•°é‡æœªçŸ¥ï¼Œä½†ç±»å‹ç›¸åŒï¼Œå¯ä½¿ç”¨initializeræ¥ä¼ å‚ï¼Œä½†ä¼ å‚éœ€è¦åŠ ä¸Š{} initializer_listä¸å…¶ä»–å®¹å™¨ä¸åŒçš„æ˜¯ï¼Œå®ƒå†…éƒ¨å…ƒç´ æ°¸è¿œæ˜¯å¸¸é‡å€¼ï¼Œä¸èƒ½è¢«æ”¹å˜ã€‚ 1234567//æ ‡å‡†åº“æä¾›çš„æ“ä½œinitializer_list&lt;T&gt; lst;initializer_list&lt;T&gt; lst{a,b,c...};lst2(lst);lst.size();lst.begin();lst.end(); //å³å¯ä»¥ä½¿ç”¨èŒƒå›´forå¾ªç¯ å‡½æ•°è¿”å›æ•°ç»„æŒ‡é’ˆæ–¹æ³•è¿”å›æ•°ç»„æŒ‡é’ˆçš„å‡½æ•°å½¢å¼å¦‚ä¸‹ï¼š 12Type (*func(para_list)) [dimension]; //dimensionä¸ºæ•°ç»„å¤§å°int (*func(int i))[10]; //è¿”å›æŒ‡å‘å¤§å°ä¸º10çš„intç±»å‹æ•°ç»„æŒ‡é’ˆ ä¹Ÿå¯ä»¥ä½¿ç”¨å°¾ç½®è¿”å›ç±»å‹ 1auto func(int i) -&gt; int(*)[10]; æˆ–è€…ä½¿ç”¨decltype(): 12int arr[10];decltype(arr) *func(int i);","link":"/post/cpp4/"},{"title":"æ•°è®ºå­¦ä¹ å°ç»“","text":"æœ€è¿‘åšé¢˜åšåˆ°äº†ä¸¤é“æ•°è®ºâ€¦äºæ˜¯å°±ç¿»äº†ç¿»ä»¥å‰å­¦è¿‡çš„çŸ¥è¯†ç‚¹..å‘ç°â€¦æˆ‘å¿˜å…‰äº†â€¦ æ‰€ä»¥è¿™æ¬¡å†™ç¯‡åšå®¢å°è¯•ç€æ¡ä¸€æ¡.. å¸Œæœ›ä¸è¦å†å¿˜äº†â€¦ >> gcd &amp; exgcdgcdåˆåå…±äº§å…šç®—æ³•æ˜¯æ±‚è§£æœ€å¤§å…¬å› æ•°çš„ç®—æ³•ï¼Œç®—æ³•åŸç†æ˜¯åˆé«˜ä¸­å°±å­¦ä¹ è¿‡çš„è¾—è½¬ç›¸é™¤æ³•ã€‚ æ‰€ä»¥..ç›´æ¥æ”¾ä»£ç ï¼š 12int gcd(int a,int b){return b == 0 ? a : gcd(b,a%b);} è¾—è½¬ç›¸é™¤æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(logn) exgcdæ˜¯æ±‚å½¢å¦‚$ax+by=gcd(a,b) $ç±»å‹å¤šè§£é—®é¢˜çš„æ–¹æ³•ï¼Œä½¿ç”¨å®ƒå¯ä»¥å¾—åˆ°x,yçš„æœ€å°è§£ ä¸‹é¢å±•å¼€è¯æ˜ï¼š é¦–å…ˆæ ¹æ®è¾—è½¬ç›¸é™¤æ³•æˆ‘ä»¬çŸ¥é“$$gcd(a,b) = gcd(b,a\\bmod b)$$æ‰€ä»¥$$ax_1+by_1=bx_2+(a \\bmod b)y_2$$æˆ‘ä»¬åˆçŸ¥é“$$a \\bmod b = a - \\lfloor\\frac{a}{b}\\rfloor \\times b$$æ‰€ä»¥ä¸Šå¼å¯ä»¥åŒ–ä¸º$$ax_1+by_1=bx_2+( a - \\lfloor\\frac{a}{b}\\rfloor \\times b)y_2$$å±•å¼€å¾—åˆ°$$ax_{1} + by_{1} = ay_{2} + bx_{2} - \\lfloor \\frac{a}b \\rfloor \\times by_{2}$$æ•´ç†å¾—åˆ°$$ax_1 + by_1 = ay_2+b(x2-\\lfloor \\frac{a}b \\rfloor \\times y_2)$$å¯ä»¥çœ‹å‡º$$\\begin{equation}{x1 = y2\\y1 =x2-\\lfloor \\frac{a}b \\rfloor \\times y_2} \\end{equation}$$è¿™æ ·ï¼Œæˆ‘ä»¬æ‰¾åˆ°äº†$x_1,x_2,y_1,y_2$ä¹‹é—´çš„å…³ç³»,ä¹Ÿå°±æ˜¯$ax_1+by_1=bx_2+(a \\bmod b)y_2$çš„ä¸¤ç»„è§£ä¹‹é—´çš„å…³ç³»ï¼Œä½†æ˜¯æˆ‘ä»¬å¹¶ä¸çŸ¥é“ä»–ä»¬ä¹‹é—´çš„ä»»ä½•ä¸€ä¸ªå€¼ï¼Œä½†æ˜¯æˆ‘ä»¬çŸ¥é“gcdåœ¨é€’å½’è¿‡ç¨‹çš„æœ€åï¼Œbä¸€å®šä¼šç­‰äº0ï¼Œæ ¹æ®æ¬§å‡ é‡Œå¾—ç®—æ³•æˆ‘ä»¬çŸ¥é“æ­¤æ—¶çš„$a$å°±æ˜¯$gcd(a,b)$çš„å€¼,æ‰€ä»¥æ­¤æ—¶çš„$x$ä¸º1ï¼Œè€Œç”±äºbä¸º0ï¼Œyå¯ä»¥ä¸ºä»»æ„å€¼ï¼Œä¸å¦¨å°±è®¾å…¶ä¸º0ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬çŸ¥é“äº†ä¸€ç»„$x,y$ çš„å€¼ï¼Œä¹ŸçŸ¥é“ç›¸é‚»ä¸¤ç»„$x,y$çš„å…³ç³»ï¼Œå°±å¯ä»¥åœ¨é€’å½’å›æº¯æ—¶æ›´æ–°$x,y$ å›æº¯ç»“æŸæ±‚å¾—x,yå€¼ã€‚ ä»£ç ï¼š 12345void exgcd(int a,int b,int &amp;d,int &amp;x,int &amp;y) //dä¸ºgcd(a,b){ if(b){exgcd(b,a%b,d,y,x);y-=(x*a/b);} //x,yé€’å½’æ—¶ä¿®æ”¹ else {d = a,x = 1,y = 0;}} exgcdçš„ä¸€å¤§ç”¨æ³•ï¼šæ±‚é€†å…ƒ(å¸¸ç”¨äºæ±‚modéè´¨æ•°çš„é€†å…ƒ) æ ¹æ®é€†å…ƒå®šç†$$ax=1 \\pmod p$$å¯ä»¥è½¬åŒ–ä¸º$$ax + kp = 1 ( k \\subset N)$$æ­¤æ—¶å°±è½¬åŒ–ä¸ºäº†ç»å…¸çš„$ax+by=gcd(a,b) $ ä»£ç ï¼š 1234567891011void exgcd(int a,int b,int &amp;d,int &amp;x,int &amp;y){ if(b){exgcd(b,a%b,d,y,x);y-=(x*a/b);} else {d = a,x = 1,y = 0;}}int inv(int a,int mod)//æ±‚aåœ¨modä¸‹çš„é€†å…ƒï¼Œä¸å­˜åœ¨é€†å…ƒè¿”å›-1 { int d,x,y; exgcd(a,mod,d,x,y); return d == 1 ? (x % mod + mod) % mod : -1;} ä¸­å›½å‰©ä½™å®šç†ï¼ˆCRTï¼‰ ä¸­å›½å‰©ä½™å®šç†ï¼Œåˆç§°ä¸­å›½ä½™æ•°å®šç†ï¼Œæ˜¯æ•°è®ºä¸­çš„ä¸€ä¸ªå…³äºä¸€å…ƒçº¿æ€§åŒä½™æ–¹ç¨‹ç»„çš„å®šç†ï¼Œè¯´æ˜äº†ä¸€å…ƒçº¿æ€§åŒä½™æ–¹ç¨‹ç»„æœ‰è§£çš„å‡†åˆ™ä»¥åŠæ±‚è§£æ–¹æ³•ã€‚ å®šç†å†…å®¹ï¼š å­˜åœ¨nä¸ªæ–¹ç¨‹ç»„ ï¼ˆ$b_1,b_2\\dotsb_n$å‡ä¸¤ä¸¤äº’è´¨ï¼‰$$\\begin{equation}{ x \\equiv a_1 \\pmod {b_1}\\ x \\equiv a_2 \\pmod {b_2}\\ x \\equiv a_3 \\pmod {b_3}\\ x \\equiv a_n \\pmod {b_n}\\}\\end{equation}$$å®šä¹‰$$M = \\prod_{i=1}^{n}b_i\\m_i =\\frac{M}{b_i}\\t_i=m_i^{-1} (t_iä¸ºm_içš„æ•°è®ºå€’æ•°å³é€†å…ƒ)$$åˆ™$$x=\\sum_{i=1}^{n} a_im_it_i + kM (k\\subset N)$$æ¿å­é¢˜ï¼šluogu P3868 çŒœæ•°å­— ACä»£ç  1234567891011121314151617181920212223242526272829303132333435363738394041424344454647#include &lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;int n;ll a[15],b[15];ll qmul(ll x,ll y,ll mod){ ll res = 0; while(y){ if(y &amp; 1) res = (res + x) % mod; x = (x + x) % mod; y &gt;&gt;= 1; } return res;}void exgcd(ll a,ll b,ll &amp;d,ll &amp;x,ll &amp;y){ if(b){exgcd(b,a%b,d,y,x);y-= x * (a/b);} else {x = 1,y =0,d = a;}}ll china(){ ll lcm = 1; ll ans = 0; for(int i = 0;i &lt; n;++i) lcm *= b[i]; for(int i = 0;i &lt; n;++i){ ll gcd,x,y; exgcd(lcm/b[i],b[i],gcd,x,y); x = (x%b[i] + b[i]) % b[i]; ans += qmul(qmul(a[i] , lcm / b[i] ,lcm), x,lcm); } return (ans%lcm + lcm) % lcm; }int main(){ cin&gt;&gt;n; for(int i = 0;i &lt; n;++i) cin&gt;&gt;a[i]; for(int i = 0;i &lt; n;++i) cin&gt;&gt;b[i]; printf(\"%lld\\n\",china()); return 0;} æ‰©å±•ä¸­å›½å‰©ä½™å®šç†ï¼ˆEXCRTï¼‰æ‰©å±•ä¸­å›½å‰©ä½™å®šç†åŒæ ·æ˜¯æ±‚è§£ä¸€å…ƒçº¿æ€§åŒä½™æ–¹ç¨‹ç»„çš„æ–¹æ³•ï¼Œä¸ä¸­å›½å‰©ä½™å®šç†ä¸åŒçš„æ˜¯å®ƒçš„ä½¿ç”¨èŒƒå›´æ›´å¹¿ï¼Œå®ƒå¯¹$b_i$ä¹‹é—´æ²¡æœ‰ä¸¤ä¸¤äº’è´¨çš„è¦æ±‚ã€‚ æ±‚è§£excrtçš„æ–¹æ³•æ˜¯å€å¢æ³• å‡è®¾æˆ‘ä»¬å·²ç»æ±‚å¾—äº†å‰iä¸ªæ–¹ç¨‹çš„æœ€å°è§£ï¼Œå¾—åˆ°$$x \\equiv a_i\\pmod {b_i}\\x \\equiv a_{i+1} \\pmod {b_{i+1}}$$å³$$x = a_i + k_1b_i\\x = a_{i+1}+k_2b_{i+1}$$ä¸¤å¼ç›¸å‡$$k_1b_{i}-k_2b_{i+1}=a_{i+1}-a_i$$ä¸¤è¾¹åŒé™¤$gcd(b_i,b_{i+1})$(ä¸ºæ–¹ä¾¿è®¾$gcd = gcd(b_i,b_{i+1})$) å¾—åˆ°$$\\frac{b_i}{gcd}k_1 = \\frac{a_{i+1}-a_i}{gcd} + \\frac{b_{i+1}}{gcd}k_2$$å³$$\\frac{b_i}{gcd}k_1 = \\frac{a_{i+1}-a_i}{gcd} \\pmod {\\frac{b_{i+1}}{gcd}}$$ä¸¤è¾¹åŒé™¤$\\frac{b_i}{gcd}$ ï¼Œå¾—åˆ°$$k_1 \\equiv \\frac{a_{i+1}-a_i}{gcd} \\times (\\frac{b_i}{gcd})^{-1} \\pmod {\\frac{b_{i+1}}{gcd}}$$åŒ–ç®€$$k_1 \\equiv \\frac{a_{i+1}-a_i}{gcd} \\times (\\frac{b_i}{gcd})^{-1} + t \\times {\\frac{b_{i+1}}{gcd}}$$å…¶ä¸­$(\\frac{b_i}{gcd})^{-1}$ ä¸ºæ¨¡$\\frac{b_{i+1}}{gcd}$ä¸‹çš„$\\frac{b_i}{gcd}$çš„æ•°è®ºå€’æ•°ï¼Œå³é€†å…ƒ ä»¤$$k_0=\\frac{a_{i+1}-a_i}{gcd} \\times (\\frac{b_i}{gcd})^{-1}$$å›ä»£å…¥$x = a_i + k_1b_i$ å¾—åˆ°ï¼š$$\\begin{equation}\\begin{aligned}x &amp;= a_i+k_1b_i\\&amp;=a_i+(k_0 + t \\times {\\frac{b_{i+1}}{gcd}}) \\times b_i\\&amp;=a_i+k_0b_i \\pmod{\\frac{b_i \\times b_{i+1}}{gcd}}\\&amp;=a_i + k_0b_i \\pmod{lcm(b_i,b_{i+1})}\\end{aligned}\\end{equation}$$ç­‰ç­‰ï¼Œæˆ‘ä»¬å¥½åƒå¿˜äº†ä¸€ä»¶é‡è¦çš„äº‹æƒ…ğŸ˜¨,$k_0$çš„å€¼å¥½åƒå¿˜äº†æ±‚. æˆ‘ä»¬è®¾æ–¹ç¨‹$$K_1b_i-K_2b_{i+1}=gcdï¼ˆb_i,b_{i+1}ï¼‰$$å› æ­¤ä½¿ç”¨exgcdå¯ä»¥å¾—åˆ°ä¸Šè¿°æ–¹ç¨‹çš„æœ€å°æ•´æ•°è§£$K_1$ ã€‚ï¼ˆæ­¤æ—¶æ–¹ç¨‹æœ‰è§£æ¡ä»¶æ˜¯$\\frac{a_{i+1}-a_i}{gcd(b_i,b_{i+1})}$ä¸ºæ•´æ•°ï¼‰ å°†å¾—åˆ°çš„è§£å¸¦å…¥æ–¹ç¨‹åä¸¤è¾¹åŒæ—¶ä¹˜$\\frac{a_{i+1}-a_i}{gcd(b_i,b_{i+1})}$å¾—åˆ°$$k_1= \\frac{(a_{i+1}-a_i)}{gcd(b_i,b_{i+1})} \\times K_1$$ è¯æ¯•ï¼Œè´¹äº†è¿™ä¹ˆå¤šå”‡èˆŒæœ€åæ±‚å¾—çš„ç»“è®ºå°±æ˜¯ï¼š$$x \\equiv kb_i+a_i \\pmod{lcm(b_1,b_2\\dots,b_{i+1})}$$å€å¢åˆå¹¶æœ€åå°±å¯æ±‚å¾—xçš„çœŸæ­£å€¼ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152#include &lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;const int MAXN = 1e5 + 10;int n;ll a[MAXN],b[MAXN];void exgcd(ll a,ll b, ll&amp;d,ll &amp;x, ll &amp;y){ if(b) {exgcd(b,a%b,d,y,x),y -= x * (a/b);} else {d = a,x = 1,y = 0;}}ll mul(ll x,ll y,ll mod){ ll res = 0; while(y){ if(y &amp; 1ll) res = (res + x)%mod; x = (x &lt;&lt; 1ll) % mod; y &gt;&gt;= 1ll; } return (res % mod + mod) % mod;}ll excrt(){ ll A = a[0],B = b[0],x,y,gcd,tmp; //A = ai B = bi x = k for(int i = 1;i &lt; n;++i){ exgcd(B,b[i],gcd,x,y); //x = K1 tmp = ((a[i] - A) % b[i] + b[i])%b[i]; if(tmp % gcd) return -1; x = mul(x,tmp /gcd,b[i]/gcd); A = (A + x * B); B = (B /gcd * b[i]); //é€’æ¨å¢åŠ B,å³lcm(b1,b2,...,bn) ,å…ˆé™¤åä¹˜é˜²æ­¢æº¢å‡º A = (A + B) % B; } return A;}int main(){ cin&gt;&gt;n; for(int i = 0;i &lt; n;++i){ cin&gt;&gt;b[i]&gt;&gt;a[i]; } printf(\"%lld\\n\",excrt()); return 0;} æ¬§æ‹‰å‡½æ•° åœ¨æ•°è®ºï¼Œå¯¹æ­£æ•´æ•°nï¼Œæ¬§æ‹‰å‡½æ•°æ˜¯å°äºnçš„æ­£æ•´æ•°ä¸­ä¸näº’è´¨çš„æ•°çš„æ•°ç›® 123456789101112131415161718//åŸºäºçº¿æ€§ç´ æ•°ç­›æ”¹å†™çš„æ¬§æ‹‰ç­›void init() { memset(notprime, 0, sizeof(notprime)); for (int i = 2; i &lt; maxn; i++) { if (!notprime[i]) prime[cnt++] = i; for (int j = 0; j &lt; cnt &amp;&amp; i * prime[j] &lt; maxn; j++) { notprime[i * prime[j]] = 1; if (!(i % prime[j])){ phi[prime[j] * i] = prime[j] * phi[i]; break; } else{ phi[prime[j] * i] = (prime[j] - 1) * phi[i]; } } } } 123456789101112131415//æ¬§æ‹‰å‡½æ•°ç›´æ¥æ±‚æ³•(å”¯ä¸€åˆ†è§£å®šç†æ€è·¯)int Euler(int x){ int res = x; for(int i = 2;i &lt;= sqrt(x);++i){ if(x % i == 0) res = res / i * (i - 1); while(x % i == 0) x /= i; } if(x &gt; 1){ res = res / x * (x - 1); } return res;} é™å¹‚å…¬å¼ï¼š$${\\forall}k &lt; \\varphi(m) æœ‰a^{k \\bmod \\varphi(m) + \\varphi(m)}æˆç«‹ï¼Œå…¶ä¸­\\varphi(m)ä¸ºæ¬§æ‹‰å‡½æ•°ã€‚$$ åº·æ‰˜å±•å¼€ åº·æ‰˜å±•å¼€æ˜¯ä¸€ä¸ªå…¨æ’åˆ—åˆ°ä¸€ä¸ªè‡ªç„¶æ•°çš„åŒå°„ï¼Œå¸¸ç”¨äºæ„å»ºhashè¡¨æ—¶çš„ç©ºé—´å‹ç¼©ã€‚è®¾æœ‰nä¸ªæ•°ï¼ˆ1ï¼Œ2ï¼Œ3ï¼Œ4,â€¦,nï¼‰ï¼Œå¯ä»¥æœ‰ç»„æˆä¸åŒ(n!ç§)çš„æ’åˆ—ç»„åˆï¼Œåº·æ‰˜å±•å¼€è¡¨ç¤ºçš„å°±æ˜¯æ˜¯å½“å‰æ’åˆ—ç»„åˆåœ¨nä¸ªä¸åŒå…ƒç´ çš„å…¨æ’åˆ—ä¸­çš„åæ¬¡ã€‚ åŸç†ï¼š$$X=a[n](n-1)!+a[n-1](n-2)!+â€¦+a[i](i-1)!+â€¦+a[1]0!$$","link":"/post/æ•°è®ºå°ç»“/"}],"tags":[{"name":"ICPC","slug":"ICPC","link":"/tags/ICPC/"},{"name":"é¢˜è§£","slug":"é¢˜è§£","link":"/tags/é¢˜è§£/"},{"name":"å›¾è®º","slug":"å›¾è®º","link":"/tags/å›¾è®º/"},{"name":"tarjan","slug":"tarjan","link":"/tags/tarjan/"},{"name":"æœç´¢","slug":"æœç´¢","link":"/tags/æœç´¢/"},{"name":"åº·æ‰˜å±•å¼€","slug":"åº·æ‰˜å±•å¼€","link":"/tags/åº·æ‰˜å±•å¼€/"},{"name":"C++","slug":"C","link":"/tags/C/"},{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","link":"/tags/æ•°æ®ç»“æ„/"},{"name":"æ¿å­","slug":"æ¿å­","link":"/tags/æ¿å­/"},{"name":"æ’åº","slug":"æ’åº","link":"/tags/æ’åº/"},{"name":"æ¨¡æ‹Ÿ","slug":"æ¨¡æ‹Ÿ","link":"/tags/æ¨¡æ‹Ÿ/"},{"name":"æ•°å­¦","slug":"æ•°å­¦","link":"/tags/æ•°å­¦/"},{"name":"éšç¬”","slug":"éšç¬”","link":"/tags/éšç¬”/"},{"name":"æ•°è®º","slug":"æ•°è®º","link":"/tags/æ•°è®º/"},{"name":"gcd&exgcd","slug":"gcd-exgcd","link":"/tags/gcd-exgcd/"},{"name":"crt&excrt","slug":"crt-excrt","link":"/tags/crt-excrt/"},{"name":"æ¬§æ‹‰å‡½æ•°","slug":"æ¬§æ‹‰å‡½æ•°","link":"/tags/æ¬§æ‹‰å‡½æ•°/"}],"categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","link":"/categories/è§£é¢˜æŠ¥å‘Š/"},{"name":"å­¦ä¹ æ€»ç»“","slug":"å­¦ä¹ æ€»ç»“","link":"/categories/å­¦ä¹ æ€»ç»“/"},{"name":"Notes","slug":"Notes","link":"/categories/Notes/"}]}