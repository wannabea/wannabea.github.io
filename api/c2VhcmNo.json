[{"title":"Codeforces Round #561 (Div2)","date":"2019-05-18T12:51:30.000Z","updated":"2019-05-18T14:50:08.399Z","content":"å¼€å¼€å¿ƒå¿ƒçš„ä¸€åœºdiv2.æœ¬èœé¸¡ç¬¬ä¸€æ¬¡ä¸Šäº†70+åˆ†å¿ƒæƒ…è¿˜æ˜¯å¾ˆæ¿€åŠ¨çš„å“ˆå“ˆå“ˆâ€¦\nå‘,å¯»æ€ç€åˆšå¼€äº†ä¸ªåšå®¢å¾—å†™ç‚¹å•¥,å°±cfçŒ®ç¥­äº†.\nå˜¿å˜¿å˜¿åºŸè¯ç»“æŸ.\n\nA. Silent Classroomç­¾åˆ°é¢˜\né¢˜æ„ : ç»™å‡ºn(n &lt; 100)ä¸ªå­—ç¬¦ä¸²ä»£è¡¨nä¸ªå­¦ç”Ÿ,æœ‰ä¸¤ä¸ªæˆ¿é—´,ä¸¤ä¸ªé¦–å­—ç¬¦ç›¸åŒçš„å­¦ç”Ÿè‹¥åœ¨åŒä¸€æˆ¿é—´å°±ä¼šèŠå¤©,å¯ä»¥ç»„æˆä¸€ä¸ªæ— åºå¯¹,è¦æ±‚æ‰¾å‡ºä¸¤ä¸ªæˆ¿é—´ä¸­èŠå¤©å¯¹æ•°æœ€å°‘çš„åˆ†é…æ–¹æ¡ˆ.å¹¶è¾“å‡ºå¯¹æ•°.\næ ·ä¾‹:1234565mikemikemikemikemike\n\nåˆ†ä¸ºä¸¤ä¸ªæˆ¿é—´(1,2,3)(4,5) å­˜åœ¨ + C(2,2) 123456789101112131415161718192021222324252627282930313233343536#### é¢˜è§£:**å­˜åˆ°stringæ•°ç»„ä¸­æŽ’åº,å¹¶å¹³åˆ†ç›¸åŒé¦–å­—æ¯çš„åŒå­¦,æ±‚å’Œ.**#### ä»£ç ```cppBy boluotou, contest: Codeforces Round #561 (Div. 2), problem: (A) Silent Classroom, Accepted, # #include &lt;bits/stdc++.h&gt;using namespace std;string s[105];int main()&#123;    int n;    cin&gt;&gt;n;    for(int i = 0;i &lt; n;++i)        cin&gt;&gt;s[i];    sort(s,s + n);    int ans = 0;    int tmp = 1;    for(int  i = 1;i &lt; n;++i)&#123;        if(s[i][0] == s[i-1][0]) tmp++;        else&#123;            if(tmp &gt; 2)                ans += ( (tmp/2 * (tmp/2-1)/2) ) + (((tmp-tmp/2) * ((tmp - tmp/2)-1) / 2)); //C(tmp, 2) + C(tmp-tmp/2, 2)            tmp = 1;        &#125;    &#125;        if(tmp &gt; 2)        ans += ( (tmp/2 * (tmp/2-1)/2) ) + (((tmp-tmp/2) * ((tmp - tmp/2)-1) / 2));    printf(&quot;%d\\n&quot;,ans);    return 0;&#125;\n\nB. All the Vowels PleaseåŒç­¾åˆ°é¢˜\né¢˜æ„ç»™å‡ºä¸€ä¸ªæ•°å­—k,é—®èƒ½å¦å¾—åˆ°ä¸€ä¸ªnmçš„æ–¹é˜µ,ä½¿æ–¹é˜µæ¯è¡Œæ¯åˆ—å‡å­˜åœ¨äº”å…ƒéŸ³å­—æ¯aeiou.è‹¥å­˜åœ¨ä»¥*ä¸€è¡Œè¾“å‡ºæ–¹é˜µå­—ç¬¦,å¦åˆ™è¾“å‡º-1**\næ ·ä¾‹1234input36outputagoeuioaeiruuimaeoieauoweouoiaouimae\n\né¢˜è§£æš´åŠ›åˆ¤æ–­èƒ½å¦æž„æˆn * m æ–¹é˜µ(n,m &gt; 5),è‹¥å¯ä»¥,æž„å»ºaeiouå­—ç¬¦æ•°ç»„å¾ªçŽ¯è¾“å‡º,å¦åˆ™è¾“å‡º-1\nä»£ç 1234567891011121314151617181920212223242526272829#include &lt;bits/stdc++.h&gt;using namespace std;char a[6] = \"aeiou\";int main()&#123;    int k;    scanf(\"%d\",&amp;k);    int x,y;    x = y = 0;    for(int i = 5;i &lt; k;++i)&#123;        if(k % i == 0 &amp;&amp; k/i &gt;= 5)&#123;            x = i;            y = k/i;        &#125;    &#125;    if(!x) puts(\"-1\");    else&#123;        for(int i = 0;i &lt; x;++i)&#123;            for(int j = 0;j &lt; y;++j)&#123;                printf(\"%c\",a[(j + i) % 5]);            &#125;//                puts(\"\");        &#125;    &#125;    return 0;&#125;\n\n\nC. A Tale of Two Landsé¢˜æ„ç»™å‡ºnä¸ªæ•°,æ±‚å‡ºæ»¡è¶³ min(x-y,x+y) &lt;= min(x,y) &lt;= max(x,y) &lt;= max(x-y,x+y) çš„ æ— åºå¯¹å¯¹æ•°.\næ ·ä¾‹12345input32 5 -3output2\n\né¢˜è§£ç¨åŠ åˆ†æž,å¯¹äºŽ x ,æ»¡è¶³ä¸Žå…¶ç»„é˜Ÿçš„yçš„æ¡ä»¶ä¸º y &gt;= (x+1)/2 &amp;&amp; y &lt;= x*2 (x,yå‡å–ç»å¯¹å€¼) \näºŽæ˜¯å¯ä»¥å¯¹å…¶è¿›è¡Œç»å¯¹å€¼æŽ’åºåŽ(Onlogn),é€ä¸€å¯»æ‰¾æ»¡è¶³å…¶æ¡ä»¶çš„å€¼,ä¸ºé˜²æ­¢é‡å¤å¯»æ‰¾,åªå¯»æ‰¾[(x+1)/2,x]èŒƒå›´.å¯»æ‰¾è¿‡ç¨‹äºŒåˆ†ä¼˜åŒ–(Onlogn)   \næ³¨æ„å¼€long long!!! \nä»£ç 12345678910111213141516171819202122232425#include &lt;bits/stdc++.h&gt;using namespace std;int a[200005];int main()&#123;    int n;    scanf(\"%d\",&amp;n);    for(int i = 0;i &lt; n;++i)&#123;        scanf(\"%d\",&amp;a[i]);        a[i] = abs(a[i]);    &#125;    sort(a,a + n);    long long ans = 0;    for(int i = 0;i &lt; n;++i)&#123;        int x = (a[i]+1)/2;        int pos = lower_bound(a,a+i,x)-a;        ans += (i-pos);    &#125;    printf(\"%lld\\n\",ans);    return 0;&#125;\n\n\nD. Cute Sequences","plink":"http://rainyblog.top/post/cf561/"},{"title":"Codeforces Round #561 (Div2)","date":"2019-05-18T12:51:30.000Z","updated":"2019-05-18T15:08:17.543Z","content":"å¼€å¼€å¿ƒå¿ƒçš„ä¸€åœºdiv2.æœ¬èœé¸¡ç¬¬ä¸€æ¬¡ä¸Šäº†70+åˆ†å¿ƒæƒ…è¿˜æ˜¯å¾ˆæ¿€åŠ¨çš„å“ˆå“ˆå“ˆâ€¦\nå‘,å¯»æ€ç€åˆšå¼€äº†ä¸ªåšå®¢å¾—å†™ç‚¹å•¥,å°±cfçŒ®ç¥­äº†.\nå˜¿å˜¿å˜¿åºŸè¯ç»“æŸ.\n\nA. Silent Classroomç­¾åˆ°é¢˜\né¢˜æ„ : ç»™å‡ºn(n &lt; 100)ä¸ªå­—ç¬¦ä¸²ä»£è¡¨nä¸ªå­¦ç”Ÿ,æœ‰ä¸¤ä¸ªæˆ¿é—´,ä¸¤ä¸ªé¦–å­—ç¬¦ç›¸åŒçš„å­¦ç”Ÿè‹¥åœ¨åŒä¸€æˆ¿é—´å°±ä¼šèŠå¤©,å¯ä»¥ç»„æˆä¸€ä¸ªæ— åºå¯¹,è¦æ±‚æ‰¾å‡ºä¸¤ä¸ªæˆ¿é—´ä¸­èŠå¤©å¯¹æ•°æœ€å°‘çš„åˆ†é…æ–¹æ¡ˆ.å¹¶è¾“å‡ºå¯¹æ•°.\næ ·ä¾‹:1234565mikemikemikemikemike\n\nåˆ†ä¸ºä¸¤ä¸ªæˆ¿é—´(1,2,3)(4,5) å­˜åœ¨ + C(2,2) 123456789101112131415161718192021222324252627282930313233343536#### é¢˜è§£:**å­˜åˆ°stringæ•°ç»„ä¸­æŽ’åº,å¹¶å¹³åˆ†ç›¸åŒé¦–å­—æ¯çš„åŒå­¦,æ±‚å’Œ.**#### ä»£ç ```cppBy boluotou, contest: Codeforces Round #561 (Div. 2), problem: (A) Silent Classroom, Accepted, # #include &lt;bits/stdc++.h&gt;using namespace std;string s[105];int main()&#123;    int n;    cin&gt;&gt;n;    for(int i = 0;i &lt; n;++i)        cin&gt;&gt;s[i];    sort(s,s + n);    int ans = 0;    int tmp = 1;    for(int  i = 1;i &lt; n;++i)&#123;        if(s[i][0] == s[i-1][0]) tmp++;        else&#123;            if(tmp &gt; 2)                ans += ( (tmp/2 * (tmp/2-1)/2) ) + (((tmp-tmp/2) * ((tmp - tmp/2)-1) / 2)); //C(tmp, 2) + C(tmp-tmp/2, 2)            tmp = 1;        &#125;    &#125;        if(tmp &gt; 2)        ans += ( (tmp/2 * (tmp/2-1)/2) ) + (((tmp-tmp/2) * ((tmp - tmp/2)-1) / 2));    printf(&quot;%d\\n&quot;,ans);    return 0;&#125;\n\nB. All the Vowels PleaseåŒç­¾åˆ°é¢˜\né¢˜æ„ç»™å‡ºä¸€ä¸ªæ•°å­—k,é—®èƒ½å¦å¾—åˆ°ä¸€ä¸ªnmçš„æ–¹é˜µ,ä½¿æ–¹é˜µæ¯è¡Œæ¯åˆ—å‡å­˜åœ¨äº”å…ƒéŸ³å­—æ¯aeiou.è‹¥å­˜åœ¨ä»¥*ä¸€è¡Œè¾“å‡ºæ–¹é˜µå­—ç¬¦,å¦åˆ™è¾“å‡º-1**\næ ·ä¾‹1234input36outputagoeuioaeiruuimaeoieauoweouoiaouimae\n\né¢˜è§£æš´åŠ›åˆ¤æ–­èƒ½å¦æž„æˆn * m æ–¹é˜µ(n,m &gt; 5),è‹¥å¯ä»¥,æž„å»ºaeiouå­—ç¬¦æ•°ç»„å¾ªçŽ¯è¾“å‡º,å¦åˆ™è¾“å‡º-1\nä»£ç 1234567891011121314151617181920212223242526272829#include &lt;bits/stdc++.h&gt;using namespace std;char a[6] = \"aeiou\";int main()&#123;    int k;    scanf(\"%d\",&amp;k);    int x,y;    x = y = 0;    for(int i = 5;i &lt; k;++i)&#123;        if(k % i == 0 &amp;&amp; k/i &gt;= 5)&#123;            x = i;            y = k/i;        &#125;    &#125;    if(!x) puts(\"-1\");    else&#123;        for(int i = 0;i &lt; x;++i)&#123;            for(int j = 0;j &lt; y;++j)&#123;                printf(\"%c\",a[(j + i) % 5]);            &#125;//                puts(\"\");        &#125;    &#125;    return 0;&#125;\n\n\nC. A Tale of Two Landsé¢˜æ„ç»™å‡ºnä¸ªæ•°,æ±‚å‡ºæ»¡è¶³ min(x-y,x+y) &lt;= min(x,y) &lt;= max(x,y) &lt;= max(x-y,x+y) çš„ æ— åºå¯¹å¯¹æ•°.\næ ·ä¾‹12345input32 5 -3output2\n\né¢˜è§£ç¨åŠ åˆ†æž,å¯¹äºŽ x ,æ»¡è¶³ä¸Žå…¶ç»„é˜Ÿçš„yçš„æ¡ä»¶ä¸º y &gt;= (x+1)/2 &amp;&amp; y &lt;= x*2 (x,yå‡å–ç»å¯¹å€¼) \näºŽæ˜¯å¯ä»¥å¯¹å…¶è¿›è¡Œç»å¯¹å€¼æŽ’åºåŽ(Onlogn),é€ä¸€å¯»æ‰¾æ»¡è¶³å…¶æ¡ä»¶çš„å€¼,ä¸ºé˜²æ­¢é‡å¤å¯»æ‰¾,åªå¯»æ‰¾[(x+1)/2,x]èŒƒå›´.å¯»æ‰¾è¿‡ç¨‹äºŒåˆ†ä¼˜åŒ–(Onlogn)   \næ³¨æ„å¼€long long!!! \nä»£ç 12345678910111213141516171819202122232425#include &lt;bits/stdc++.h&gt;using namespace std;int a[200005];int main()&#123;    int n;    scanf(\"%d\",&amp;n);    for(int i = 0;i &lt; n;++i)&#123;        scanf(\"%d\",&amp;a[i]);        a[i] = abs(a[i]);    &#125;    sort(a,a + n);    long long ans = 0;    for(int i = 0;i &lt; n;++i)&#123;        int x = (a[i]+1)/2;        int pos = lower_bound(a,a+i,x)-a;        ans += (i-pos);    &#125;    printf(\"%lld\\n\",ans);    return 0;&#125;\n\n\nD. Cute Sequences","plink":"http://rainyblog.top/post/cf#561/"},{"title":"æ–°çš„ä¸€å¤©,æ–°çš„Blog!","date":"2019-05-18T06:42:49.000Z","updated":"2019-05-18T14:02:35.303Z","content":"å“ˆå“ˆå“ˆç»è¿‡ä¸€æ•´å¤©æŠ˜è…¾æˆ‘çš„blogç»ˆäºŽè¦ä¸Šçº¿å•¦(å®žåè®¤è¯è¿‡åŽ)ðŸ˜\nè™½ç„¶è¿™ä¹ˆä¹…äº†ä¹Ÿæ²¡å†™è¿‡ä¸¤ç¯‡åšå®¢,ä½†æ˜¯æˆ‘è¿˜æ˜¯æœ‰å†³å¿ƒè¦åšæŒä¸‹æ¥çš„,æ¯•ç«Ÿå¾—æœ‰ä¸ªæ€»ç»“å­¦ä¹ çš„åœ°æ–¹å¯¹å§(ä¸¥è‚ƒ).\næ›´ä¸»è¦æ˜¯â€¦å­¦è¿‡çš„ä¸œè¥¿å…¨éƒ½å¿˜å¾—å·®ä¸å¤šäº†ðŸ˜­,æ‰æƒ³èµ·å†™ç‚¹åšå®¢ æ¯•ç«Ÿæˆ‘è¿™ä¹ˆæ‡’\nemm~åšå®¢ä¸»è¦å†™ä¸€äº›é¢˜è§£å’Œå¯¹ç®—æ³•çš„ä¸€äº›ç†è§£å§,é¡ºä¾¿ç”¨æ¥è®°ä¸€ä¸‹c++,pyçš„å­¦ä¹ ç¬”è®°å¥½äº†.\næƒ³æ¥è¿™æµ‘æµ‘å™©å™©çš„ä¸€å¹´ä¹Ÿæ²¡æ²‰æ·€ä¸‹æ¥å•¥,å°±æœ‰ç‚¹ç°å¿ƒ.\nðŸ˜”å¾€äº‹ä¸å ªå›žé¦–,ICPCè·¯è¿˜è¿œçš„å¾ˆ,äº¦æ­¥äº¦è¶‹å¾€å‰èµ°å§.\n","plink":"http://rainyblog.top/post/æ–°çš„ä¸€å¤©-æ–°çš„blog!/"},{"title":"å¤§æ•°è¿ç®—æ¨¡æ‹Ÿ","date":"2019-05-18T04:53:40.122Z","updated":"2019-05-18T05:23:31.408Z","content":"ä»Žå‰çš„å¤§æ•°æ¨¡æ‹Ÿéƒ½æ˜¯è‡ªå·±ç”¨å­—ç¬¦ä¸²æ¥æ•²çš„,çªç„¶çœ‹åˆ°åŒå­¦çš„ä»£ç åŽé‡Šæ”¾äº†å¾ˆå¤šæ€ç»´,ä¸ä»…æ•²å¾—å¿«è¿˜ä¸å®¹æ˜“é”™,äºŽæ˜¯æ‰¾ä¸ªæ™šä¸Šæ•²ä¸‹å¤§æ•°çš„ä¸€äº›æ¨¡æ‹Ÿ,ç•™ä¸‹æ¿å­è®°å½•ä¸€ä¸‹.\nå¯¹äºŽè´Ÿæ•°åŠ å‡æ¨¡æ‹Ÿè¿ç®—æˆ‘ä»¬å¯ä»¥åˆ†æƒ…å†µè®¨è®ºå¹¶ç¼–å†™å¦ä¸€ä¸ªå‡½æ•°,å³:\n\nè‹¥ä¸¤æ•°å‡æ­£ 1* è‹¥ä¸¤æ•°å‡è´Ÿ ```ans = &apos;-&apos; + add(a,b)\n\nè‹¥ä¸€æ­£ä¸€è´Ÿ 1234567891011121314151617181920212223**å¯æ‹Ÿå‡½æ•°**```cppstring add_op(string a,string b)&#123;    string ans;    if(a[0] == &apos;-&apos; &amp;&amp; b[0] == &apos;-&apos;)&#123;        a.erase(a.begin());        b.erase(b.begin());        ans = &apos;-&apos; + big_add(a,b);    &#125;    else if(a[0] == &apos;-&apos;)&#123;        a.erase(a.begin());        ans = big_sub(b,a);    &#125;    else if(b[0] == &apos;-&apos;)&#123;        b.erase(b.begin());        ans = big_sub(a,b);    &#125;    else&#123;        ans = big_add(a,b);    &#125;    return ans;&#125;\n\n\nå¤§æ•°åŠ æ³•123456789101112131415161718192021222324252627282930313233343536373839404142434445//ä¸æ”¯æŒè´Ÿæ•°const int MAXN = 1e8 + 10;int t[MAXN];string big_add(string a,string b)&#123;    int len1 = a.size();    int len2 = b.size();    reverse(a.begin(),a.end());         //è°ƒæ¢é¡ºåºæ–¹ä¾¿å¤„ç†    reverse(b.begin(),b.end());        if(len1 &lt; len2)&#123;        swap(a,b);                      //ä»¤aæ˜¯æ•°ä½è¾ƒé•¿çš„æ•°        swap(len1,len2);    &#125;    for(int i = 0;i &lt; len2;++i)&#123;        //tæ•°ç»„å­˜åœ¨ç¬¬iä½ä¸Šä¸¤æ•°ç›¸åŠ çš„ç»“æžœ,æš‚æ—¶ä¸è¿›ä½        t[i] = a[i] -'0' + b[i] - '0';    &#125;    for(int i = len2;i &lt; len1;++i)&#123;        t[i] = a[i] - '0';    &#125;    int flag = 0;                       //flag æ ‡å¿—æ˜¯å¦éœ€è¦è¿›ä½    for(int i = 0;i &lt; len1;++i)&#123;        if(flag) &#123;            t[i]++;            flag = 0;        &#125;        if(t[i] &gt;= 10)&#123;            t[i]-=10;            flag = 1;        &#125;    &#125;    if(flag) t[len1] = 1;               //å¤„ç†æœ€é«˜ä½æ˜¯å¦éœ€è¦è¿›ä½,è‹¥ä¸éœ€è¦ä»¤æœ€é«˜ä½ä¸º 0    else t[len1] = 0;    string ans;    flag = 0;    for(int i = len1;i &gt;= 0 ;--i)&#123;      //åŽ»é™¤å‰å¯¼0        if( flag == 0 &amp;&amp; t[i] == 0) continue;        flag = 1;         ans.push_back(t[i] + '0');    &#125;    if(ans.empty()) ans.push_back('0');    return ans;&#125;\n\nå¤§æ•°å‡æ³•12345678910111213141516171819202122232425262728293031323334353637383940const int MAXN = 1e8 + 10;int t[MAXN];string big_sub(string a,string b)&#123;    string ans;        int len1 = a.size();    int len2 = b.size();    reverse(a.begin(),a.end());     //è°ƒæ¢é¡ºåºä¾¿äºŽå¤„ç†    reverse(b.begin(),b.end());    for(int i = 0;i &lt; len2 ;++i)&#123;   //tæ•°ç»„ä¿å­˜ç¬¬iä½ä¸Šä¸¤æ•°ä¹‹å·®        t[i] =  a[i] - b[i];    &#125;    for(int i = len2;i &lt; len1;++i)&#123;        t[i] = a[i] - '0';          //è‹¥aä½æ•°è¾ƒé•¿,åˆ™é•¿åº¦è¶…è¿‡bçš„ä½ç»“æžœä¸ºa[i] - 0    &#125;    int flag = 0;    for(int i = 0;i &lt; len1;++i)&#123;    //å€Ÿä½        if(flag)&#123;            flag = 0;            t[i]--;        &#125;        if(t[i] &lt; 0)&#123;            t[i]+=10;            flag = 1;        &#125;    &#125;    flag = 0;    for(int i = len1-1;i &gt;= 0;--i)&#123; //åŽ»é™¤å‰å¯¼0        if(!flag &amp;&amp; t[i] == 0) continue;        flag = 1;        ans.push_back(t[i] + '0');    &#125;    if(ans.empty()) ans.push_back('0');     //è‹¥ç»“æžœä¸º0,ç­”æ¡ˆ ans = 0    return ans;&#125;\n\nå¤§æ•°ä¹˜æ³•123456789101112131415161718192021222324252627282930313233int t[10000000];string mul(string a,string b)&#123;    reverse(a.begin(),a.end());                     //äº¤æ¢é¡ºåºï¼Œæ–¹ä¾¿è®¡ç®—    reverse(b.begin(),b.end());        int len1=a.size();    int len2=b.size();    for(int i = 0;i &lt; len1;++i)        for(int j = 0;j &lt; len2;++j)            t[i+j]=(a[i]-'0')*(b[j]-'0')+t[i+j];    //å…ˆæ•´ä½“ä¹˜èµ·æ¥ï¼Œä¸è¿›ä½        t[len1 + len2 -1] = 0;                          //è¿›ä½    for(int i = 0;i &lt; len1 + len2;++i)&#123;        t[i+1] += t[i] / 10;        t[i] %= 10;    &#125;    int x = len1 + len2;                            //ç»“æžœæœ€é•¿çš„ä½æ•°    if(t[len1 + len2-1] == 0)  x--;        string ans = \"\";                                    int flag = 1;                                   //flagç”¨æ¥åšåšåŽ»é™¤å‰å¯¼é›¶çš„æ ‡è®°    for(int i = x-1;i &gt;= 0;--i)&#123;        if(t[i] == 0 &amp;&amp; flag) &#123;            continue;        &#125;        flag = 0;        ans.push_back(t[i] + '0');    &#125;    if(ans.empty()) ans.push_back('0');            //è‹¥ç»“æžœä¸ºé›¶,è¿”å›ž\"0\"    return ans;&#125;\n\nå¤§æ•°æ±‚æ¨¡12345678910//å¤§æ•°æ±‚æ¨¡å°±å¾ˆç®€å•äº†,æ ¹æ®åŒä½™å®šç†æ¥æŒ‰ä½æ±‚æ¨¡å°±å¥½äº†long long big_mod(string a,long long mod)&#123;    int len=a.size();    long long ans=0;    for(int i=0;i&lt;len;++i)        ans=(ans*10%mod+a[i]-&apos;0&apos;)%mod;    return ans;&#125;","plink":"http://rainyblog.top/post/å¤§æ•°/"},{"title":"ä¸€ç»´æ ‘çŠ¶æ•°ç»„è¯¦è§£","date":"2019-05-18T03:00:25.000Z","updated":"2019-05-18T04:54:41.305Z","content":"è¦äº†è§£æ ‘çŠ¶æ•°ç»„,é¦–å…ˆéœ€è¦äº†è§£å®ƒæ˜¯ç”¨æ¥åšä»€ä¹ˆçš„.é‚£ä¹ˆ:\næ ‘çŠ¶æ•°ç»„çš„é—®é¢˜æ¨¡åž‹\nå•ç‚¹ç»´æŠ¤,åŒºé—´æŸ¥è¯¢(PUIQé—®é¢˜)\nåŒºé—´ç»´æŠ¤,å•ç‚¹æŸ¥è¯¢(IUPQé—®é¢˜)\næ±‚é€†åºå¯¹é—®é¢˜\n\n\nå…ˆæ¥äº†è§£ä¸€ä¸‹æ ‘çŠ¶æ•°ç»„çš„é€»è¾‘æ¨¡åž‹å¦‚å›¾:çªç„¶ä¸€çœ‹å¯èƒ½éš¾ä»¥ç†è§£,é‚£ä¹ˆæ˜¯ä»€ä¹ˆæŠŠå®ƒä»¬è”ç³»èµ·æ¥çš„å‘¢?æŽ¥ä¸‹æ¥ä»‹ç»lowbitå‡½æ•°\nlowbit(æ±‚äºŒè¿›åˆ¶æ•°æœ€åŽä¸€ä½1çš„ä½ç½®)è¿™é‡Œç”¨åˆ°äº†è¡¥ç çš„åŽŸç†:\nå³è´Ÿæ•°çš„è¡¥ç ä¸ºå…¶äºŒè¿›åˆ¶ç»å¯¹å€¼å–å+1,è€Œå½“å…¶ä¸Žå…¶ç»å¯¹å€¼å–&amp;æ“ä½œæ—¶å¾—åˆ°çš„æ°å¥½å°±æ˜¯å…¶äºŒè¿›åˆ¶æœ€åŽä¸€ä½1çš„ä½ç½®\nä¾‹å¦‚:00001000(8)çš„è´Ÿæ•°è¡¥ç ä¸º11111000(-8) ä¸Žæ“ä½œåŽä¸º00001000\nè€Œlowbit(8)çš„å€¼å°±ä¸º 00001000;\nåˆ™ lowbitå‡½æ•°ä»£ç \n1234inline int lowbit(int x)&#123;    return x &amp; -x;&#125;\n\nè¿™é‡Œå°±ç¨å¾®åä¸ªé¢˜é¡ºä¾¿ä»‹ç»ä¸€ä¸‹inline(å†…è”å‡½æ•°)\n\nC++å…³é”®å­—ï¼Œåœ¨å‡½æ•°å£°æ˜Žæˆ–å®šä¹‰ä¸­å‡½æ•°è¿”å›žç±»åž‹å‰åŠ ä¸Šå…³é”®å­—inlineï¼Œå³å¯ä»¥æŠŠå‡½æ•°æŒ‡å®šä¸ºå†…è”å‡½æ•°ã€‚\n\nåœ¨c/c++ä¸­ï¼Œä¸ºäº†è§£å†³ä¸€äº›é¢‘ç¹è°ƒç”¨çš„å°å‡½æ•°å¤§é‡æ¶ˆè€—æ ˆç©ºé—´ï¼ˆæ ˆå†…å­˜ï¼‰çš„é—®é¢˜ï¼Œç‰¹åˆ«çš„å¼•å…¥äº†inlineä¿®é¥°ç¬¦ï¼Œè¡¨ç¤ºä¸ºå†…è”å‡½æ•°ã€‚æ­¤å…³é”®å­—ä»…æ˜¯å¯¹ç¼–è¯‘å™¨çš„ä¸€ç§å»ºè®®,å¹¶éžå¼ºåˆ¶.å¯¹äºŽå†…å®¹è¾ƒçŸ­ä¸”æ— å¾ªçŽ¯çš„ä»£ç ,inlineçš„ä½¿ç”¨å¯ä»¥å¢žåŠ å‡½æ•°è¿è¡Œçš„æ•ˆçŽ‡,ä½†å…¶æ•ˆçŽ‡çš„å¢žåŠ æ˜¯ä»¥ä»£ç é•¿åº¦ä¸ºä»£ä»·,æ‰€ä»¥,ä»…åœ¨çŸ­ä¸”æ— å¾ªçŽ¯çš„å‡½æ•°å‰å¯ä»¥ä½¿ç”¨,å…¶ä»–æƒ…å†µé¿å…ä½¿ç”¨.\nåŽŸç†\né‚£ä¹ˆlowbitå‡½æ•°çš„ç”¨å¤„æ˜¯ä»€ä¹ˆå‘¢.\nè®©æˆ‘ä»¬ä»¥äºŒè¿›åˆ¶æ€ç»´ç¨å¾®æ³¨æ„ä¸€ä¸‹å¯ä»¥å‘çŽ°,æ¯ä¸ªåºå·çš„äºŒè¿›åˆ¶æ•°çš„åŽå¯¼0çš„ä¸ªæ•°,æ°ä¸ºå…¶åŒ…å«çš„æ•°ç»„çš„æ·±åº¦(è‡ªåº•å‘ä¸Šçš„),è®¾å…¶ä¸ºd,é‚£ä¹ˆå…¶åŒ…å«çš„èŒƒå›´å°±æ˜¯åŒ…æ‹¬å®ƒå‘å‰çš„2^dä¸ªæ•°.å¦‚100(4)ä¸ºä»Ž100å‘å‰4ä¸ªåŽŸæ•°ç»„ä¸­çš„æ•°çš„å’Œ,è€Œ110(6)æ˜¯ä»Ž110å‘å‰2ä¸ªåŽŸæ•°ç»„ä¸­çš„æ•°çš„å’Œ.\næˆ‘ä»¬ä»¤åŽŸæ•°ç»„ä¸ºa[],æ ‘çŠ¶æ•°ç»„ä¸ºtree[].\nè¿™æ—¶,æˆ‘ä»¬å¯ä»¥ç†è§£treeæ•°ç»„ä¸­å­˜å‚¨çš„åˆ°åº•æ˜¯ä»€ä¹ˆæ•°æ®,é‚£ä¹ˆå¯¹äºŽä»¥ä¸Šé—®é¢˜æ¨¡åž‹,æˆ‘ä»¬è¯¥å¦‚ä½•æ±‚è§£å‘¢.\n\næ›´æ–°(updateå‡½æ•°)æˆ‘ä»¬è¦æ›´æ–°åŽŸæ•°ç»„ä¸­æŸä¸€ä¸ªæ•°,é‚£ä¹ˆå°±å¾—æ›´æ–°æ ‘çŠ¶æ•°ç»„ä¸­æ‰€æœ‰åŒ…å«å®ƒçš„æ•°æ®,é‚£ä¹ˆ,éƒ½æœ‰å“ªç»„æ•°æ®åŒ…å«å®ƒå‘¢,ä¹Ÿå°±æ˜¯å¯»æ‰¾è¿™ä¸ªå­èŠ‚ç‚¹çš„æ‰€æœ‰æ ¹èŠ‚ç‚¹çš„ç‰¹ç‚¹.\nè¿™æ—¶,å°±åˆè½®åˆ°æˆ‘ä»¬çš„lowbitå‡½æ•°ä¸Šåœºäº†,xçš„æ‰€æœ‰çˆ¶èŠ‚ç‚¹åªéœ€+ lowbit(x)```å°±å¯ä»¥å¾—åˆ°.12345678é‚£ä¹ˆupdateå‡½æ•°çš„ä»£ç (æ—¶é—´å¤æ‚åº¦O(logn)):```cpp//xä¸ºéœ€è¦ä¿®æ”¹çš„èŠ‚ç‚¹,vä¸ºa[x]å¢žåŠ çš„å€¼,næ˜¯æ ‘çŠ¶æ•°ç»„çš„æœ€å¤§èŒƒå›´.void update(int x,int v)&#123;    for(;x &lt;= n;x += lowbit(x))        tree[x] += v;&#125;\n\næŸ¥è¯¢(queryå‡½æ•°)å¯¹äºŽæ ‘çŠ¶æ•°ç»„tree,æˆ‘ä»¬å¯ä»¥äº†è§£å…¶å­˜å‚¨çš„å€¼å®žè´¨ä¸Šæ˜¯æŸä¸€åŒºé—´çš„å‰ç¼€å’Œ.æˆ‘ä»¬æŸ¥è¯¢æŸä¸€æ®µåŒºé—´(x,y)çš„å€¼,å°±åªéœ€è¦æ±‚å‡ºyçš„å‰ç¼€å’Œå‡åŽ»x-1çš„å‰ç¼€å’Œè¿™æ ·å¾—åˆ°çš„,å°±æ˜¯åŒºé—´(x,y)çš„å’Œ.\né‚£ä¹ˆ(1,x)åŒºé—´çš„å‰ç¼€å’Œæ€Žä¹ˆæ±‚å‘¢,ä»ç„¶æ˜¯lowbitå‡½æ•°,åªéœ€è¦åšä¸€éæ›´æ–°çš„é€†è¿‡ç¨‹,å³è®¡ç®—treeæ•°ç»„(x-&gt;1)çš„å’Œå°±å¯ä»¥æ±‚å‡ºæ‰€æœ‰ä¸é‡åˆçš„åŒºé—´å‰ç¼€å’Œ.\nä¸ºä»€ä¹ˆtree(x-&gt;1)å°±æ˜¯è¯¥åŒºé—´çš„å‰ç¼€å’Œ?\nåœ¨äºŒè¿›åˆ¶çš„è§†è§’ä¸‹,xçš„æ•°ä½ä¸Šæ¯ä¸€ä¸ª1,éƒ½ä»£è¡¨å…¶ä¸€æ®µåŸŸå†…çš„å€¼,é‚£ä¹ˆ,æ¯ä¸ª1éƒ½å¿…ç„¶ä¸Žå…¶ä»–1çš„èŒƒå›´ä¸é‡åˆä¾‹å¦‚:12345678910å¦‚æ­¤,queryçš„ä»£ç å°±å¾ˆæ˜Žäº†äº†.```cppint query(int x)&#123;    int res = 0;    for(;x &gt; 0;x -= lowbit(x))        res += tree[x];    return res;&#125;\næ¿å­é¢˜é“¾æŽ¥(luoguP3374)\n\nåˆ°æ­¤ä¸ºæ­¢,æˆ‘ä»¬è®²è§£çš„å°±æ˜¯PUIQæ¨¡åž‹,å³ç‚¹æ›´æ–°,æ®µæŸ¥è¯¢.\næ€Žä¹ˆæ ·ä»£ç æ˜¯ä¸æ˜¯çŸ­åˆ°æ€€ç–‘äººç”Ÿ,è¿™åœ¨èµ›åœºä¸Šå†™èµ·æ¥ä¸æ˜¯èˆ’èˆ’æœæœ?\né‚£ä¹ˆ,æŽ¥ä¸‹æ¥çš„IUPQæ¨¡åž‹,å°±éœ€è¦ä¸€ä¸ªåˆ‡å…¥ç‚¹æ¥å®Œæˆæ“ä½œäº†.\n\nIUPQæ¨¡åž‹çš„è§£é¢˜åˆ‡å…¥ç‚¹â€”å·®åˆ†å½“æˆ‘ä»¬æƒ³è¦è¿›è¡Œæ®µæ›´æ–°æ—¶,é‚£ä¹ˆå¦‚æžœä»ç„¶ç”¨ä¸Šé¢çš„ä»£ç ,å°±ä¸å¾—ä¸æ·»åŠ ä¸€ä¸ªforå¾ªçŽ¯,æ­¤æ—¶updateå‡½æ•°çš„æ—¶é—´å¤æ‚åº¦ä¼šä¸Šå‡åˆ°O(nlogn),é‚£ä¹ˆ,æœ‰æ²¡æœ‰ä»€ä¹ˆæ–¹æ³•æ¥ä¼˜åŒ–æ“ä½œå‘¢?è§£å†³æ–¹æ¡ˆå°±æ˜¯â€“å·®åˆ†\nå·®åˆ†,ä¹Ÿå°±æ˜¯å®šä¹‰ä¸€ä¸ªå·®åˆ†æ•°ç»„bæ¥å­˜å‚¨aæ•°ç»„çš„å·®å€¼,è€Œtreeä½œä¸ºæ•°ç»„bçš„æ ‘çŠ¶æ•°ç»„.\nå³:\n1234567b[1] = a[1]b[2] = a[2] - a[1]b[4] = a[4] - a[1]tree[1] = b[1]tree[2] = b[2] + tree[1]tree[4] = tree[2] + tree[3] + b[4]\n\né‚£ä¹ˆè¿™æ—¶çš„aæ•°ç»„å€¼è¯¥å¦‚ä½•å¾—åˆ°å‘¢?\nå¯¹äºŽbæ•°ç»„,+...+b[n]```12345è€Œqueryå‡½æ•°åˆšå¥½å°±æ˜¯ç”¨æ¥æ±‚b[n]çš„å‰ç¼€å’Œ,ä¹Ÿå°±æ˜¯a[n]çš„å€¼.é‚£ä¹ˆæ›´æ–°æ“ä½œå‘¢,å¯¹äºŽå·®åˆ†æ•°ç»„b,è‹¥æˆ‘ä»¬æƒ³è¦æ›´æ–°```[l,r]```èŒƒå›´å†…çš„å€¼+v,é‚£ä¹ˆæˆ‘ä»¬åªéœ€è¦å°†```b[l]```æ›´æ–°ä¸º```b[l] + v```å°±ä»£è¡¨ç€```a[l] - a[n]```æ‰€æœ‰æ•°éƒ½+1,è€Œåœ¨```b[r+1]```å¤„å°†+vçš„æ•ˆæžœæ¶ˆé™¤,å³```b[r+1] - v\né‚£ä¹ˆå¦‚ä½•å°†è¿™ä¸ªæ“ä½œæ›´æ–°åœ¨treeæ•°ç»„ä¸­,å°±æ˜¯ä¸Šæ–‡updateçš„äº‹æƒ…äº†.\nå³åªéœ€æ›´æ–°b[l]+v,b[r+1]-vå³å¯\n12update(l,v);update(r+1,-v);\n\nå¤æ‚åº¦åŒæ ·ä¸ºO(logn)\næ¿å­é¢˜é“¾æŽ¥(luoguP3368)\n\næ±‚é€†åºå¯¹é—®é¢˜é—®é¢˜æ¨¡åž‹,ç»™å®šnä¸ªæ•´æ•°,æ±‚å‡ºé€†åºæ•´æ•°å¯¹æ•°(å³> a[v] && u < v```çš„æ•´æ•°å¯¹)12345678çœ‹è§é¢˜ç›®æˆ‘ä»¬å°±å¯ä»¥å†™å‡ºO(n2)çš„æš´åŠ›foræ¥æ±‚è§£,ä½†æ˜¯å¦‚ä½•å°†å…¶ç”¨æ ‘çŠ¶æ•°ç»„æ¥ä¼˜åŒ–åˆ°O(nlogn)å‘¢è¿™é‡Œç”¨åˆ°æ¡¶æŽ’åºçš„æ€æƒ³.é¦–å…ˆè®©é—®é¢˜ç®€å•åŒ–ä¸€ç‚¹,è®©nä¸ªæ•´æ•°a[i]å‡å°äºŽç­‰äºŽ100.é‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥å¼€tree[105]çš„æ•°ç»„,æ¯æ¬¡è¯»å…¥æ›´æ–°ä¸€ä¸ªæ•°æ—¶,åªéœ€```update(a[i],1)\næ­¤æ—¶,æ¯”a[i]å¤§çš„æ•°å­—å°±æ˜¯éœ€è¦æ›´æ–°çš„é€†åºå¯¹å¯¹æ•°,å³- query(a[i])```å› ä¸ºå½“å‰å…±è¯»å…¥äº†iä¸ªæ•°,é‚£ä¹ˆæ±‚å€¼äº¦å¯ç®€åŒ–ä¸º```i - query[a[i]]```12345678910111213141516171819202122ä¹Ÿå°±æ˜¯è¯»å…¥ä¸€è½®+æ¯æ¬¡æŸ¥è¯¢å°±å¯å¾—åˆ°æ€»å…±çš„é€†åºå¯¹å¯¹æ•°.æ—¶é—´å¤æ‚åº¦O(nlogn)é‚£ä¹ˆå½“æ•°æ®è¶³å¤Ÿå¤§æ—¶,æˆ‘ä»¬çš„æ•°ç»„å­˜ä¸ä¸‹çš„æ—¶å€™å‘¢,è¿™æ—¶å€™,å°±è½®åˆ°æˆ‘ä»¬çš„æ ¸å¿ƒæ€æƒ³,ç¦»æ•£åŒ–å‡ºåœºäº†.å¯¹äºŽç¦»æ•£åŒ–,ä¸ªäººç†è§£å°±æ˜¯ç”±äºŽæƒ³è¦åˆ©ç”¨æ¡¶æ•°ç»„,æ•…å°†æ•°æ®ç›¸å¯¹ç¼©å°(ä¿è¯ç›¸å¯¹å¤§å°ä¸å˜)åˆ°å¯ä»¥å¼€åˆ°çš„æ•°ç»„é‚£ä¹ˆå¤§è€Œå‡å°ç©ºé—´éœ€æ±‚.é‚£ä¹ˆåˆ°åº•è¯¥å¦‚ä½•å®žçŽ°,è¯·çœ‹å¦‚ä¸‹ä»£ç :```cppç¦»æ•£åŒ–æ ¸å¿ƒä»£ç :struct node&#123;    int v;//æ•°å€¼æœ¬èº«    int order;//åŽŸåºåˆ—çš„çš„ä¸‹æ ‡&#125;a[500005];int dis[500005];   //ç”¨æ¥å­˜å‚¨åŽŸæ•°ç¬¬iä¸ªæ•°çš„orderä¸‹æ ‡æ˜¯ä»€ä¹ˆsort(a,a+n,cmp);  //æ³¨æ„éœ€è¦ç”±å¤§åˆ°å°æŽ’for(int i = 1;i &lt;= n;++i)    dis[a[i].order] = i;\nåŽŸç†å¾ˆç®€å•å°±åªæ˜¯æŒ‰a[i].vçš„å¤§å°é‡æŽ’,å¹¶é‡æ–°èµ‹äºˆä»–ä»¬ç›¸å¯¹å¤§å°ä¸å˜,æ•´ä½“ç¼©å°çš„æ–°çš„a[i].v\nå…·ä½“ä»£ç å¦‚ä¸‹:(HDU2689)\n1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859#include &lt;bits/stdc++.h&gt;#define mem(n) memset(n,0,sizeof(n))using namespace std;int n;struct node&#123;    int val,order;    bool operator &lt; (const node &amp; x) const&#123;        return this-&gt;val &lt; x.val;    &#125; &#125;a[1005];int dis[1005];  //å·®åˆ†æ•°ç»„int tree[1005];inline int lowbit(int x)&#123;    return x &amp; -x;&#125;void update(int x,int v)&#123;    for(;x &lt;= n;x +=lowbit(x))        tree[x] += v;&#125;int query(int x)&#123;    int res = 0;    for(;x &gt; 0;x -= lowbit(x))        res += tree[x];    return res;&#125;int main()&#123;    while(~scanf(\"%d\",&amp;n))&#123;        mem(a);        mem(dis);        mem(tree);        for(int i = 1;i &lt;=n;++i)&#123;            scanf(\"%d\",&amp;a[i].val);            a[i].order = i;        &#125;        sort(a + 1, a + 1 + n);        for(int i = 1;i &lt;= n;++i)&#123;            dis[a[i].order] = i;        &#125;        int cnt = 0;        for(int i = 1;i &lt;= n;++i)&#123;            update(dis[i],1);            cnt += i - query(dis[i]);        &#125;        printf(\"%d\\n\",cnt);    &#125;    return 0;&#125;","plink":"http://rainyblog.top/post/ä¸€ç»´æ ‘çŠ¶æ•°ç»„è¯¦è§£/"}]